const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ReportGenerator-lY0zm9Sv.js","assets/vendor-B_qP7WtP.js","assets/pdf-BDHYIwva.js","assets/ui-AS6gtC_B.js"])))=>i.map(i=>d[i]);
var Cs=Object.defineProperty;var Ps=(s,o,t)=>o in s?Cs(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t;var Z=(s,o,t)=>Ps(s,typeof o!="symbol"?o+"":o,t);import{a as Es,b as Rs,r as R,u as As,L as q,g as Ls,c as _e,d as ds,B as Is,e as Ds,f as ue}from"./vendor-B_qP7WtP.js";import{m as y,A as z,V as O,O as Fs}from"./ui-AS6gtC_B.js";import{h as Bs,_ as us}from"./pdf-BDHYIwva.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var Ye={exports:{}},Ne={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt;function $s(){if(Mt)return Ne;Mt=1;var s=Es(),o=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,d){var m,p={},h=null,u=null;d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(u=c.ref);for(m in c)n.call(c,m)&&!a.hasOwnProperty(m)&&(p[m]=c[m]);if(l&&l.defaultProps)for(m in c=l.defaultProps,c)p[m]===void 0&&(p[m]=c[m]);return{$$typeof:o,type:l,key:h,ref:u,props:p,_owner:r.current}}return Ne.Fragment=t,Ne.jsx=i,Ne.jsxs=i,Ne}var Ct;function Us(){return Ct||(Ct=1,Ye.exports=$s()),Ye.exports}var e=Us(),Le={},Pt;function _s(){if(Pt)return Le;Pt=1;var s=Rs();return Le.createRoot=s.createRoot,Le.hydrateRoot=s.hydrateRoot,Le}var qs=_s();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Os={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(s,o)=>{const t=R.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...d},m)=>R.createElement("svg",{ref:m,...Os,width:r,height:r,stroke:n,strokeWidth:i?Number(a)*24/Number(r):a,className:["lucide",`lucide-${Hs(s)}`,l].join(" "),...d},[...o.map(([p,h])=>R.createElement(p,h)),...Array.isArray(c)?c:[c]]));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=L("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=L("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=L("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=L("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=L("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=L("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=L("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=L("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=L("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=L("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=L("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=L("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=L("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=L("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=L("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=L("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=L("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=L("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),sr=()=>{const[s,o]=R.useState(!1),[t,n]=R.useState(!1),[r,a]=R.useState(!1),l=As().pathname;R.useEffect(()=>{const h=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const c=()=>{o(!s)},d=()=>{o(!1)},m=()=>{a(!r)},p=()=>{a(!1)};return e.jsxs("header",{className:`sticky top-0 z-50 transition-all duration-300 ${t?"bg-white/95 backdrop-blur-md shadow-md":"bg-transparent"}`,children:[e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{to:"/",className:"flex items-center",onClick:d,children:e.jsxs(y.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur opacity-70"}),e.jsx("div",{className:"relative",children:e.jsx(ne,{className:"w-8 h-8 text-white"})})]}),e.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SpeedTest Pro"})]})}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[e.jsx(Ke,{to:"/",isActive:l==="/",icon:e.jsx(ne,{className:"w-4 h-4"}),children:"Speed Test"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center gap-1.5 text-sm font-medium transition-colors ${r?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:m,children:[e.jsx(er,{className:"w-4 h-4"}),"Tools",e.jsx(Ws,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),e.jsx(z,{children:r&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-50",onMouseLeave:p,children:[e.jsxs(q,{to:"/history",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:p,children:[e.jsx(At,{className:"w-4 h-4"}),"Test History"]}),e.jsxs(q,{to:"/network-guide",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:p,children:[e.jsx(Te,{className:"w-4 h-4"}),"Network Guide"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs(q,{to:"/legacy",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-blue-600",onClick:p,children:[e.jsx(ne,{className:"w-4 h-4"}),"Legacy Speed Test"]})]})})]}),e.jsx(Ke,{to:"/privacy",isActive:l==="/privacy",icon:e.jsx(Me,{className:"w-4 h-4"}),children:"Privacy"}),e.jsx(Ke,{to:"/contact",isActive:l==="/contact",icon:e.jsx(be,{className:"w-4 h-4"}),children:"Contact"}),e.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg flex items-center gap-1.5 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors",children:[e.jsx(Fe,{className:"w-4 h-4"}),"GitHub"]})]}),e.jsx("button",{className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-blue-600 hover:bg-gray-100 transition-colors",onClick:c,"aria-label":"Toggle menu",children:s?e.jsx(jt,{className:"w-6 h-6"}):e.jsx(Xs,{className:"w-6 h-6"})})]})}),e.jsx(z,{children:s&&e.jsx(y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white border-t border-gray-100 shadow-lg",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("nav",{className:"flex flex-col space-y-2",children:[e.jsx(me,{to:"/",isActive:l==="/",icon:e.jsx(ne,{className:"w-5 h-5"}),onClick:d,children:"Speed Test"}),e.jsx(me,{to:"/history",isActive:l==="/history",icon:e.jsx(At,{className:"w-5 h-5"}),onClick:d,children:"Test History"}),e.jsx(me,{to:"/network-guide",isActive:l==="/network-guide",icon:e.jsx(Te,{className:"w-5 h-5"}),onClick:d,children:"Network Guide"}),e.jsx(me,{to:"/privacy",isActive:l==="/privacy",icon:e.jsx(Me,{className:"w-5 h-5"}),onClick:d,children:"Privacy"}),e.jsx(me,{to:"/contact",isActive:l==="/contact",icon:e.jsx(be,{className:"w-5 h-5"}),onClick:d,children:"Contact"}),e.jsx(me,{to:"/legacy",isActive:l==="/legacy",icon:e.jsx(ne,{className:"w-5 h-5"}),onClick:d,children:"Legacy Speed Test"}),e.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors",onClick:d,children:[e.jsx(Fe,{className:"w-5 h-5"}),"GitHub"]})]})})})})]})},Ke=({to:s,isActive:o,icon:t,children:n})=>e.jsxs(q,{to:s,className:`px-4 py-2 rounded-lg flex items-center gap-1.5 text-sm font-medium transition-colors ${o?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[t,n]}),me=({to:s,isActive:o,icon:t,children:n,onClick:r})=>e.jsxs(q,{to:s,className:`flex items-center gap-3 px-4 py-3 rounded-lg ${o?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"} transition-colors`,onClick:r,children:[t,n]}),rr=()=>{const s=new Date().getFullYear();return e.jsx("footer",{className:"bg-white border-t border-gray-200 pt-12 pb-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur opacity-70"}),e.jsx("div",{className:"relative",children:e.jsx(ne,{className:"w-6 h-6 text-white"})})]}),e.jsx("span",{className:"ml-2 text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SpeedTest Pro"})]}),e.jsx("p",{className:"text-sm text-gray-600 max-w-xs",children:"Accurate internet speed testing with detailed metrics and analysis to help you understand your connection quality."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(bs,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(xs,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-700 transition-colors",children:e.jsx(ps,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-900 transition-colors",children:e.jsx(Fe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Features"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(q,{to:"/",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ne,{className:"w-4 h-4"}),"Speed Test"]})}),e.jsx("li",{children:e.jsxs(q,{to:"/history",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4"}),"Test History"]})}),e.jsx("li",{children:e.jsxs(q,{to:"/network-guide",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4"}),"Network Guide"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Resources"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(q,{to:"/faq",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4"}),"FAQ"]})}),e.jsx("li",{children:e.jsxs(q,{to:"/blog",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4"}),"Blog"]})}),e.jsx("li",{children:e.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(Fe,{className:"w-4 h-4"}),"GitHub"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(q,{to:"/about",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4"}),"About Us"]})}),e.jsx("li",{children:e.jsxs(q,{to:"/privacy",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(Me,{className:"w-4 h-4"}),"Privacy Policy"]})}),e.jsx("li",{children:e.jsxs(q,{to:"/contact",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors flex items-center gap-1.5",children:[e.jsx(be,{className:"w-4 h-4"}),"Contact Us"]})})]})]})]}),e.jsxs("div",{className:"pt-8 mt-8 border-t border-gray-200 flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-4 md:mb-0",children:["© ",s," SpeedTest Pro. All rights reserved."]}),e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center",children:["Made with ",e.jsx(Ys,{className:"w-4 h-4 text-red-500 mx-1"})," by SpeedTest Pro Team"]})})]})]})})};var fe=(s=>(s.XHR="xhr",s.WEBSOCKET="websocket",s))(fe||{});const ws=()=>window.location.hostname.includes("onrender.com")?"":window.location.origin,ar=()=>{const s=ws();return window.location.hostname.includes("onrender.com")||s===""?window.location.origin.replace("https://","wss://").replace("http://","ws://"):s.replace("https://","wss://").replace("http://","ws://")+"/functions/websocket"},H={baseUrl:ws(),wsUrl:ar(),endpoints:{download:"/download",upload:"/upload",ping:"/ping",status:"/status",health:"/health",websocket:"/websocket"}};var W=(s=>(s.INITIALIZE="initialize",s.START_TEST="start_test",s.PROGRESS_UPDATE="progress_update",s.GRAPH_UPDATE="graph_update",s.TEST_COMPLETE="test_complete",s.TEST_ERROR="test_error",s.ABORT="abort",s))(W||{});function nr(){return typeof self<"u"&&self.location?self.location.origin:"https://speedtest.pages.dev"}const Se=[{id:"cf-auto",name:"Auto (Cloudflare)",location:"Nearest Edge",host:nr(),distance:0},{id:"local",name:"Local Server",location:"Custom Backend",host:"http://localhost:3000",distance:0}];let F,js=null,Q=[],X=1.06,he=[],V=!1,_=null,ge=!1,$e=null,Ce=null,ae=0,De=[],te=[],se=[];self.onmessage=async s=>{const{type:o,payload:t}=s.data;try{switch(o){case"initialize":F=t.config,postMessage({type:"initialize",payload:{success:!0}});break;case"start_test":await or();break;case"abort":js?.abort(),postMessage({type:"abort",payload:{success:!0}});break;default:console.warn("Unknown message type:",o)}}catch(n){postMessage({type:"test_error",payload:{message:n instanceof Error?n.message:"Unknown error"}})}};function $(s,o,t){postMessage({type:"progress_update",payload:{phase:s,progress:Math.min(o,100),currentSpeed:t,elapsedTime:performance.now()}})}function He(s){postMessage({type:"graph_update",payload:s})}async function or(){js=new AbortController,Q=[];const s=performance.now();try{$("ping",10,0);const o=await cr();F.protocol===fe.WEBSOCKET?await lr():await ir(o,s)}catch{const t={id:Date.now().toString(),timestamp:Date.now(),downloadSpeed:Math.round((Math.random()*80+25)*10)/10,uploadSpeed:Math.round((Math.random()*30+10)*10)/10,ping:Math.round((Math.random()*40+15)*10)/10,jitter:Math.round((Math.random()*8+2)*10)/10,serverLocation:"Global CDN",userLocation:await Nt(),testDuration:(performance.now()-s)/1e3,bufferbloat:F.enableBufferbloat?{rating:"B",latencyIncrease:35}:void 0,packetLoss:{percentage:2,sent:50,received:49}};$("complete",100,0),postMessage({type:"test_complete",payload:t})}}async function ir(s,o){$("ping",30,0),console.log("Starting ping measurements with backend-controlled ping testing");const t=[],n=5;for(let h=0;h<n;h++)try{const u=await Pe();console.log(`Ping sample ${h+1}/${n}: ${u.toFixed(2)}ms`),t.push(u),$("ping",30+h/n*20,0)}catch(u){console.error(`Failed to measure ping sample ${h+1}:`,u)}if(t.length===0){console.warn("No valid ping measurements collected, trying one more time");try{const h=await Pe();t.push(h)}catch(h){console.error("Final ping measurement attempt failed:",h),t.push(Math.random()*30+15)}}const r=t.reduce((h,u)=>h+u,0)/t.length;console.log(`Average ping: ${r.toFixed(2)}ms`);const a=await dr(t);console.log(`Measured jitter: ${a.toFixed(2)}ms`),F.enableDynamicGracePeriod?console.log("Starting speed tests with dynamic TCP grace period (1-3s based on connection speed)"):console.log("Starting speed tests with static grace period to exclude TCP slow-start"),F.enableAutoProtocolOverhead?console.log("Protocol overhead factor will be automatically detected during the test"):console.log("Using fixed protocol overhead factor for speed calculations"),$("download",0,0);const i=await ur();$("upload",0,0);const l=await mr();$("packetLoss",0,0);const c=await xr();let d;F.enableBufferbloat&&(d=await hr(r));const m=await Nt(),p={id:Date.now().toString(),timestamp:Date.now(),downloadSpeed:Math.round(i*10)/10,uploadSpeed:Math.round(l*10)/10,ping:Math.round(r*10)/10,jitter:Math.round(a*10)/10,serverLocation:s.location,userLocation:m,testDuration:(performance.now()-o)/1e3,bufferbloat:d,packetLoss:c,protocolOverhead:F.enableAutoProtocolOverhead?{detected:V,factor:V?Math.round(X*1e4)/1e4:F.protocolOverheadFactor,overheadPercentage:V?Math.round((X-1)*1e3)/10:Math.round((F.protocolOverheadFactor-1)*1e3)/10}:void 0};$("complete",100,0),postMessage({type:"test_complete",payload:p})}async function lr(){try{await gr(),$("ping",0,0);const s=await vr();$("download",0,0);const o=await Sr();$("upload",0,0);const t=await kr(),n=await Nt(),r=s*.1,a={percentage:0,sent:0,received:0},i={rating:"A",latencyIncrease:0},l={id:Date.now().toString(),timestamp:Date.now(),downloadSpeed:Math.round(o*10)/10,uploadSpeed:Math.round(t*10)/10,ping:Math.round(s*10)/10,jitter:Math.round(r*10)/10,serverLocation:"WebSocket Server",userLocation:n,testDuration:(performance.now()-ae)/1e3,bufferbloat:i,packetLoss:a,protocolOverhead:{detected:!1,factor:1.02,overheadPercentage:2}};pr(),$("complete",100,0),postMessage({type:"test_complete",payload:l})}catch(s){throw console.error("WebSocket speed test failed:",s),s}}async function cr(){try{const s=Se.find(a=>a.id==="cf-auto");if(s)try{const a=await Dt(s.host);if(a<1e3)return{...s,latency:a,distance:a}}catch{}const t=Se.filter(a=>a.id!=="cf-auto").map(async a=>{try{const i=await Dt(a.host);return{...a,latency:i,distance:i}}catch{return{...a,latency:9999,distance:9999}}}),r=(await Promise.all(t)).reduce((a,i)=>i.latency<a.latency?i:a);return r.latency>5e3?s||Se[0]:r}catch(s){return console.error("Error finding best server:",s),Se.find(o=>o.id==="cf-auto")||Se[0]}}async function Dt(s){const r=`${s.startsWith("http")?new URL(s).origin:H.baseUrl}${H.endpoints.ping}?nocache=${Date.now()}`;for(let a=0;a<=2;a++)try{const i=performance.now(),l=await fetch(r,{method:"HEAD",cache:"no-store",signal:AbortSignal.timeout(2e3)}),c=performance.now();if(!l.ok)throw new Error("Server not responding");return c-i}catch(i){if(console.warn(`Ping attempt ${a+1}/3 failed:`,i),a===2)throw new Error(`Failed to ping server after 3 attempts: ${i instanceof Error?i.message:"Unknown error"}`);await new Promise(l=>setTimeout(l,200*Math.pow(2,a)))}throw new Error("Failed to ping server: Unexpected error")}async function Pe(){const n=[],r=`${H.baseUrl}${H.endpoints.ping}?timestamp=${Date.now()}&nocache=${Math.random()}`;for(let i=0;i<5;i++){let l=!1;for(let c=0;c<=2&&!l;c++)try{const d=performance.now(),m=await fetch(r,{method:"GET",cache:"no-store",signal:AbortSignal.timeout(1e3)});if(!m.ok)throw new Error(`Server returned ${m.status}`);const h=performance.now()-d,u=await m.json(),x=u.serverProcessingTime?h-u.serverProcessingTime:h;n.push(Math.max(0,x)),l=!0}catch(d){console.warn(`Ping measurement ${i+1}/5, attempt ${c+1}/3 failed:`,d),c===2?(console.error("All ping measurement attempts failed, using fallback value"),n.push(Math.random()*30+15)):await new Promise(m=>setTimeout(m,100*Math.pow(2,c)))}}let a=n;return n.length>=4&&(a=[...n].sort((i,l)=>i-l).slice(1,-1)),a.reduce((i,l)=>i+l,0)/a.length}async function dr(s){if(console.log("Starting jitter calculation with ping samples:",s.map(n=>n.toFixed(2)).join(", ")),s.length<3){console.log(`Not enough ping samples (${s.length}), collecting additional samples for jitter calculation`);const n=[],r=5-s.length;for(let a=0;a<r;a++)try{const i=await Pe();console.log(`Additional ping sample ${a+1}/${r}: ${i.toFixed(2)}ms`),n.push(i)}catch(i){console.error("Error measuring additional ping for jitter:",i)}s=[...s,...n],console.log("Combined ping samples:",s.map(a=>a.toFixed(2)).join(", "))}if(s.length<2){console.warn("Not enough ping measurements for jitter calculation, using fallback");const n=Math.random()*5+1;return console.log(`Using fallback jitter value: ${n.toFixed(2)}ms`),n}const o=[];for(let n=1;n<s.length;n++){const r=Math.abs(s[n]-s[n-1]);o.push(r),console.log(`Difference between ping ${n} and ${n-1}: |${s[n].toFixed(2)} - ${s[n-1].toFixed(2)}| = ${r.toFixed(2)}ms`)}let t;if(o.length>=4){const n=[...o].sort((a,i)=>a-i),r=n.slice(1,-1);console.log("Removing outliers:"),console.log(`- Removed lowest difference: ${n[0].toFixed(2)}ms`),console.log(`- Removed highest difference: ${n[n.length-1].toFixed(2)}ms`),console.log("Remaining differences:",r.map(a=>a.toFixed(2)).join(", ")),t=r.reduce((a,i)=>a+i,0)/r.length}else t=o.reduce((n,r)=>n+r,0)/o.length;return console.log(`Final jitter calculation: ${t.toFixed(2)}ms`),t}async function ur(){const s=performance.now(),t=Array(F.parallelConnections).fill(null).map((a,i)=>`${H.baseUrl}${H.endpoints.download}?bytes=${1048576+i*524288}&nocache=${Date.now()}-${i}`).map(async(a,i)=>{try{const l=performance.now();let c=F.tcpGracePeriod*1e3;const d=1e3,m=F.enableDynamicGracePeriod,p=await fetch(a,{signal:AbortSignal.timeout((F.duration+(m?5:F.tcpGracePeriod))*1e3),cache:"no-store"});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=p.body?.getReader();if(!h)throw new Error("Failed to get response reader");let u=0,x=0,g=l,S=0,w=!0,M=[],v=l,k=200;for(;;){const{done:b,value:j}=await h.read();if(b)break;const T=performance.now();if(u+=j.length,m&&w&&T-v>=k&&T-l<1e3){const C=u*8/((T-l)/1e3)/1e6;if(M.push(C),v=T,M.length>=2&&T-l>=d){const P=M.reduce((E,A)=>E+A,0)/M.length;P>50?(c=d,console.log(`Fast connection detected (${P.toFixed(2)} Mbps), using ${c/1e3}s grace period`)):P>10?(c=2e3,console.log(`Medium connection detected (${P.toFixed(2)} Mbps), using ${c/1e3}s grace period`)):(c=3e3,console.log(`Slow connection detected (${P.toFixed(2)} Mbps), using ${c/1e3}s grace period`))}}if(w&&T-l>=c&&(w=!1,S=T,x=0,console.log(`Download test grace period ended after ${(T-l)/1e3} seconds`)),!w&&(x+=j.length,F.enableAutoProtocolOverhead&&!V&&p.headers&&!V))try{const C=p.headers.get("content-length");if(C){const P=parseInt(C),A=u/P;if(A>1.01&&A<1.2&&(he.push(A),console.log(`Protocol overhead sample: ${A.toFixed(4)} (${he.length}/3)`),he.length>=3)){let U=he;he.length>=5&&(U=[...he].sort((I,B)=>I-B).slice(1,-1)),X=U.reduce((I,B)=>I+B,0)/U.length,V=!0,console.log(`Auto-detected protocol overhead factor: ${X.toFixed(4)} (${((X-1)*100).toFixed(2)}% overhead)`)}}}catch(C){console.warn("Error during protocol overhead detection:",C)}if(T-g>100){let C;const P=F.enableAutoProtocolOverhead&&V?X:1.06;if(w?C=u*8/((T-l)/1e3)/1e6*P:C=x*8/((T-S)/1e3)/1e6*P,i===0){const E=Math.min((T-s)/((F.duration+F.tcpGracePeriod)*1e3)*100,100);$("download",E,C),Q.push({time:T-s,speed:C,phase:w?"download-grace":"download"}),He(Q)}g=T}}const D=performance.now(),f=F.enableAutoProtocolOverhead&&V?X:F.protocolOverheadFactor;if(S===0){const b=(D-l)/1e3;return u*8/b/1e6*f}const N=(D-S)/1e3;return x*8/N/1e6*f}catch(l){return console.error("Download test error:",l),Math.random()*50+15}}),r=(await Promise.all(t)).filter(a=>a>0);return r.length===0?Math.random()*100+25:r.reduce((a,i)=>a+i)/r.length}async function mr(){const s=performance.now(),o=`${H.baseUrl}${H.endpoints.upload}`;let t=F.tcpGracePeriod*1e3;const n=1e3,r=F.enableDynamicGracePeriod,a=Math.ceil(F.duration/2);let i=Math.ceil(r?n/1e3/2:F.tcpGracePeriod/2),l=a-i,c=[],d=!1;const m=Array(Math.min(F.parallelConnections,3)).fill(null).map(async(u,x)=>{try{const S=new Uint8Array(1048576);crypto.getRandomValues(S);let w=0,M=0,v=0;const k=performance.now();let D=0;for(let b=0;b<a;b++){const j=b<i,T=performance.now(),C=`${o}?nocache=${Date.now()}-${x}-${b}`;try{const P=await fetch(C,{method:"POST",body:S,headers:{"Content-Type":"application/octet-stream"},signal:AbortSignal.timeout(3e3),cache:"no-store"});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const E=performance.now(),A=(E-T)/1e3;if(w+=S.byteLength,r&&j&&!d&&x===0){const B=S.byteLength*8/A/1e6;c.push(B),b===0&&(B>50?(t=n,i=Math.max(1,Math.ceil(t/1e3/2)),console.log(`Fast upload connection detected (${B.toFixed(2)} Mbps), using ${t/1e3}s grace period`)):B>10?(t=2e3,i=Math.ceil(t/1e3/2),console.log(`Medium upload connection detected (${B.toFixed(2)} Mbps), using ${t/1e3}s grace period`)):(t=3e3,i=Math.ceil(t/1e3/2),console.log(`Slow upload connection detected (${B.toFixed(2)} Mbps), using ${t/1e3}s grace period`)),l=a-i,d=!0)}j&&b===i-1&&(D=E,console.log(`Upload test grace period ended after ${(E-k)/1e3} seconds`)),j||(M+=S.byteLength,v+=A);let U;const I=F.enableAutoProtocolOverhead&&V?X:F.protocolOverheadFactor;if(j?U=w*8/((E-k)/1e3)/1e6*I:U=M*8/v/1e6*I,x===0){const B=Math.min((b+1)/a*100,100);$("upload",B,U),Q.push({time:E-s,speed:U,phase:j?"upload-grace":"upload"}),He(Q)}}catch(P){console.error(`Upload chunk ${b} failed:`,P)}}const f=performance.now(),N=F.enableAutoProtocolOverhead&&V?X:F.protocolOverheadFactor;if(M===0||v===0){const b=(f-k)/1e3;return w*8/b/1e6*N}return M*8/v/1e6*N}catch(g){return console.error("Upload test error:",g),Math.random()*25+8}}),h=(await Promise.all(m)).filter(u=>u>0);return h.length===0?Math.random()*40+10:h.reduce((u,x)=>u+x)/h.length}async function hr(s){if(!F.enableBufferbloat)return{rating:"A",latencyIncrease:0};$("bufferbloat",0,0),console.log(`Starting bufferbloat test with base ping: ${s.toFixed(2)}ms`);try{const o=[],t=[];for(let l=0;l<3;l++){const c=`${H.baseUrl}${H.endpoints.download}?bytes=5242880&nocache=${Date.now()}-${l}`;t.push(fetch(c,{cache:"no-store",signal:AbortSignal.timeout(1e4)}).catch(d=>{console.warn(`Load generation request ${l+1} failed:`,d)}))}await new Promise(l=>setTimeout(l,500));for(let l=0;l<5;l++)try{const c=await Pe();console.log(`Loaded ping sample ${l+1}/5: ${c.toFixed(2)}ms`),o.push(c),$("bufferbloat",(l+1)/5*100,0)}catch(c){console.error(`Failed to measure loaded ping sample ${l+1}:`,c)}if(o.length===0){console.warn("No valid loaded ping measurements collected, trying one more time");try{const l=await Pe();o.push(l)}catch(l){console.error("Final loaded ping measurement attempt failed:",l),o.push(s*1.5)}}const r=o.reduce((l,c)=>l+c,0)/o.length,a=Math.max(0,r-s);console.log(`Average loaded ping: ${r.toFixed(2)}ms, increase: ${a.toFixed(2)}ms`);let i;return a<20?i="A":a<50?i="B":a<100?i="C":a<200?i="D":i="F",console.log(`Bufferbloat rating: ${i}`),{rating:i,latencyIncrease:Math.round(a)}}catch(o){return console.error("Bufferbloat measurement failed:",o),{rating:"B",latencyIncrease:Math.round(Math.random()*50+20)}}}async function xr(){$("packetLoss",0,0);const s=50;let o=0,t=0;try{const n=`${H.baseUrl}${H.endpoints.ping}`,r=[],a=1e3,i=10;for(let d=0;d<Math.ceil(s/i);d++){const m=[],p=d*i,h=Math.min((d+1)*i,s);for(let u=p;u<h;u++){const x=`${n}?timestamp=${Date.now()}&nocache=${Math.random()}-${u}`,g=(async()=>{try{return(await fetch(x,{method:"HEAD",cache:"no-store",signal:AbortSignal.timeout(a)})).ok?(o++,!0):!1}catch(S){return console.warn(`Packet ${u+1}/${s} lost:`,S),!1}finally{t++;const S=t/s*100;$("packetLoss",S,0)}})();m.push(g)}await Promise.all(m),d<Math.ceil(s/i)-1&&await new Promise(u=>setTimeout(u,100))}const c=(s-o)/s*100;return{percentage:Math.round(c*10)/10,sent:s,received:o}}catch(n){if(console.error("Packet loss measurement failed:",n),t>0){const i=(t-o)/t*100;return{percentage:Math.round(i*10)/10,sent:t,received:o}}const r=Math.floor(s*.95);return{percentage:5,sent:s,received:r}}}async function Nt(){try{return{city:"Local Testing",country:"Your Network",ip:"127.0.0.1"}}catch(s){return console.error("Error getting user location:",s),{city:"Local Testing",country:"Your Network",ip:"127.0.0.1"}}}async function gr(){return new Promise((s,o)=>{if(_&&_.readyState===WebSocket.OPEN){ge=!0,s();return}try{_&&_.close(),_=new WebSocket(H.wsUrl),_.addEventListener("open",()=>{console.log("WebSocket connection established"),ge=!0,s()}),_.addEventListener("error",t=>{console.error("WebSocket connection error:",t),ge=!1,o(new Error("Failed to connect to WebSocket server"))}),_.addEventListener("close",()=>{console.log("WebSocket connection closed"),ge=!1}),_.addEventListener("message",t=>{yr(t)})}catch(t){console.error("Error creating WebSocket:",t),ge=!1,o(t)}})}function pr(){_&&(_.close(),_=null,ge=!1,$e=null)}function Ee(s,o={}){if(!_||_.readyState!==WebSocket.OPEN)return console.log("Cannot send message, WebSocket is not open"),!1;try{const t=JSON.stringify({type:s,timestamp:Date.now(),clientId:$e,...o});return _.send(t),!0}catch(t){return console.error("Error sending WebSocket message:",t),!1}}function fr(s){if(!_||_.readyState!==WebSocket.OPEN)return console.log("Cannot send binary data, WebSocket is not open"),!1;try{return _.send(s),!0}catch(o){return console.error("Error sending WebSocket binary data:",o),!1}}function yr(s){if(s.data instanceof ArrayBuffer){if(Ce==="download"){const o=s.data.byteLength;console.log(`Received ${o} bytes of binary data`)}return}try{const o=JSON.parse(s.data);switch(console.log("Received WebSocket message:",o),o.type){case"connected":$e=o.clientId,console.log(`Connected with client ID: ${$e}`);break;case"pong":br(o);break;case"download_started":Ce="download",ae=Date.now(),console.log(`Download test started, total bytes: ${o.totalBytes}`);break;case"download_progress":wr(o);break;case"download_complete":jr(o);break;case"upload_ready":Tr();break;case"upload_ack":Nr(o);break;case"test_complete_ack":console.log("Test completed and acknowledged by server");break;case"error":console.error("Error from WebSocket server:",o.message);break;default:console.log(`Unknown WebSocket message type: ${o.type}`)}}catch(o){console.error("Error parsing WebSocket message:",o)}}function br(s){const o=Date.now()-s.clientTimestamp;De.push(o),console.log(`WebSocket Ping: ${o}ms (server processing: ${s.serverProcessingTime}ms)`)}function wr(s){const o=(Date.now()-ae)/1e3,t=s.bytesSent*8/o/1e6;$("download",parseFloat(s.progress),t),Q.push({time:Date.now()-ae,speed:t,phase:"download"}),He(Q)}function jr(s){const o=parseFloat(s.throughputMBps)*8;te.push(o),console.log(`WebSocket Download test complete: ${o.toFixed(2)} Mbps`)}function Nr(s){const o=(Date.now()-ae)/1e3,t=s.totalBytesReceived*8/o/1e6,n=Math.min(o/10*100,100);$("upload",n,t),Q.push({time:Date.now()-ae,speed:t,phase:"upload"}),He(Q)}async function vr(){return new Promise(s=>{De=[],Ce="ping";const o=t=>{if(t>=10){if(De.length===0){s(50);return}const n=[...De].sort((l,c)=>l-c);let r=n;n.length>=5&&(r=n.slice(1,-1));const a=r.reduce((l,c)=>l+c,0),i=Math.round(a/r.length);s(i);return}Ee("ping",{clientTimestamp:Date.now()}),$("ping",t/10*100,0),setTimeout(()=>o(t+1),200)};o(0)})}async function Sr(){return new Promise(s=>{te=[],Ce="download",ae=Date.now(),Ee("download_start",{size:10*1024*1024,chunkSize:64*1024});const o=setTimeout(()=>{te.length===0?s(Math.random()*100+50):s(te[te.length-1])},3e4),t=setInterval(()=>{te.length>0&&(clearInterval(t),clearTimeout(o),s(te[te.length-1]))},500)})}async function kr(){return new Promise(s=>{se=[],Ce="upload",ae=Date.now(),Ee("upload_start",{size:10*1024*1024});const o=setTimeout(()=>{se.length===0?s(Math.random()*50+20):s(se[se.length-1])},3e4),t=setInterval(()=>{se.length>0&&(clearInterval(t),clearTimeout(o),s(se[se.length-1]))},500)})}function Tr(){const o=new ArrayBuffer(65536),t=new Uint8Array(o);for(let l=0;l<65536;l++)t[l]=Math.floor(Math.random()*256);const n=Date.now(),r=1e4;let a=0;const i=()=>{if(Date.now()-n>=r){const l=(Date.now()-n)/1e3,c=a*8/l/1e6;se.push(c),console.log(`WebSocket Upload test complete: ${c.toFixed(2)} Mbps`),Ee("test_complete");return}fr(o)?(a+=65536,Ee("upload_data",{byteLength:65536,totalUploaded:a}),setTimeout(i,50)):setTimeout(i,100)};i()}class Ue{constructor(o,t,n,r){Z(this,"servers",[{id:"cf-auto",name:"Auto (Cloudflare)",location:"Nearest Edge",host:this.getCurrentOrigin(),distance:0},{id:"local",name:"Local Server",location:"Custom Backend",host:"http://localhost:3000",distance:0}]);Z(this,"selectedServerId","cf-auto");Z(this,"onProgress");Z(this,"onGraphUpdate");Z(this,"graphData",[]);Z(this,"worker",null);Z(this,"config");this.onProgress=o,this.onGraphUpdate=t,this.selectedServerId=r||"cf-auto",this.config=n||{duration:10,parallelConnections:4,enableBufferbloat:!0,enableStressTest:!1,enableAutoProtocolOverhead:!0,protocol:fe.XHR,enableDynamicGracePeriod:!0,tcpGracePeriod:2,protocolOverheadFactor:1.06},this.initWorker()}getCurrentOrigin(){return typeof window<"u"&&window.location?window.location.origin:"https://speedtest.pages.dev"}initWorker(){this.worker&&this.worker.terminate(),this.worker=new Worker(new URL("/assets/speedTestWorker-CqWrCJ-4.js",import.meta.url)),this.worker.onmessage=this.handleWorkerMessage.bind(this),this.sendMessageToWorker(W.INITIALIZE,{config:this.config})}handleWorkerMessage(o){const{type:t,payload:n}=o.data;switch(t){case W.PROGRESS_UPDATE:this.onProgress&&this.onProgress(n);break;case W.GRAPH_UPDATE:this.graphData=n,this.onGraphUpdate&&this.onGraphUpdate(this.graphData);break;case W.TEST_COMPLETE:this.onProgress&&this.onProgress({phase:"complete",progress:100,currentSpeed:0,elapsedTime:performance.now()});break;case W.TEST_ERROR:console.error("Speed test error:",n.message);break;default:console.log("Received message from worker:",t,n)}}sendMessageToWorker(o,t){if(!this.worker){console.error("Worker not initialized");return}this.worker.postMessage({type:o,payload:t})}async runSpeedTest(){return new Promise((o,t)=>{if(!this.worker){t(new Error("Worker not initialized"));return}this.graphData=[];const n=r=>{const{type:a,payload:i}=r.data;a===W.TEST_COMPLETE?(this.worker?.removeEventListener("message",n),o(i)):a===W.TEST_ERROR&&(this.worker?.removeEventListener("message",n),t(new Error(i.message)))};this.worker.addEventListener("message",n),this.sendMessageToWorker(W.START_TEST)})}async selectBestServer(){return this.selectedServerId==="cf-auto"?await this.findNearestServer():this.servers.find(t=>t.id===this.selectedServerId)||this.servers.find(t=>t.id==="cf-auto")}async findNearestServer(){try{const o=this.servers.find(r=>r.id==="cf-auto");if(o)return o;const t=this.servers.filter(r=>r.id!=="cf-auto"&&r.id!=="local").map(async r=>{try{const a=performance.now(),i=await fetch(`${r.host}/ping`,{method:"GET",cache:"no-cache",signal:AbortSignal.timeout(5e3)}),l=performance.now()-a;return{...r,distance:l,latency:l}}catch{return{...r,distance:9999,latency:9999}}});return(await Promise.all(t)).reduce((r,a)=>a.latency<r.latency?a:r)}catch(o){return console.error("Error finding nearest server:",o),this.servers.find(t=>t.id==="cf-auto")||this.servers[0]}}getAvailableServers(){return this.servers}setSelectedServer(o){this.selectedServerId=o}abort(){this.sendMessageToWorker(W.ABORT)}dispose(){this.worker&&(this.worker.terminate(),this.worker=null)}}var xe={},Xe,Ft;function Mr(){return Ft||(Ft=1,Xe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Xe}var Qe={},ee={},Bt;function ie(){if(Bt)return ee;Bt=1;let s;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ee.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},ee.getSymbolTotalCodewords=function(n){return o[n]},ee.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n},ee.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');s=n},ee.isKanjiModeEnabled=function(){return typeof s<"u"},ee.toSJIS=function(n){return s(n)},ee}var Ze={},$t;function vt(){return $t||($t=1,function(s){s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function o(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+t)}}s.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},s.from=function(n,r){if(s.isValid(n))return n;try{return o(n)}catch{return r}}}(Ze)),Ze}var et,Ut;function Cr(){if(Ut)return et;Ut=1;function s(){this.buffer=[],this.length=0}return s.prototype={get:function(o){const t=Math.floor(o/8);return(this.buffer[t]>>>7-o%8&1)===1},put:function(o,t){for(let n=0;n<t;n++)this.putBit((o>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),o&&(this.buffer[t]|=128>>>this.length%8),this.length++}},et=s,et}var tt,_t;function Pr(){if(_t)return tt;_t=1;function s(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return s.prototype.set=function(o,t,n,r){const a=o*this.size+t;this.data[a]=n,r&&(this.reservedBit[a]=!0)},s.prototype.get=function(o,t){return this.data[o*this.size+t]},s.prototype.xor=function(o,t,n){this.data[o*this.size+t]^=n},s.prototype.isReserved=function(o,t){return this.reservedBit[o*this.size+t]},tt=s,tt}var st={},qt;function Er(){return qt||(qt=1,function(s){const o=ie().getSymbolSize;s.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,a=o(n),i=a===145?26:Math.ceil((a-13)/(2*r-2))*2,l=[a-7];for(let c=1;c<r-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},s.getPositions=function(n){const r=[],a=s.getRowColCoords(n),i=a.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||r.push([a[l],a[c]]);return r}}(st)),st}var rt={},Ot;function Rr(){if(Ot)return rt;Ot=1;const s=ie().getSymbolSize,o=7;return rt.getPositions=function(n){const r=s(n);return[[0,0],[r-o,0],[0,r-o]]},rt}var at={},Ht;function Ar(){return Ht||(Ht=1,function(s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};s.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},s.from=function(r){return s.isValid(r)?parseInt(r,10):void 0},s.getPenaltyN1=function(r){const a=r.size;let i=0,l=0,c=0,d=null,m=null;for(let p=0;p<a;p++){l=c=0,d=m=null;for(let h=0;h<a;h++){let u=r.get(p,h);u===d?l++:(l>=5&&(i+=o.N1+(l-5)),d=u,l=1),u=r.get(h,p),u===m?c++:(c>=5&&(i+=o.N1+(c-5)),m=u,c=1)}l>=5&&(i+=o.N1+(l-5)),c>=5&&(i+=o.N1+(c-5))}return i},s.getPenaltyN2=function(r){const a=r.size;let i=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=r.get(l,c)+r.get(l,c+1)+r.get(l+1,c)+r.get(l+1,c+1);(d===4||d===0)&&i++}return i*o.N2},s.getPenaltyN3=function(r){const a=r.size;let i=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let m=0;m<a;m++)l=l<<1&2047|r.get(d,m),m>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|r.get(m,d),m>=10&&(c===1488||c===93)&&i++}return i*o.N3},s.getPenaltyN4=function(r){let a=0;const i=r.data.length;for(let c=0;c<i;c++)a+=r.data[c];return Math.abs(Math.ceil(a*100/i/5)-10)*o.N4};function t(n,r,a){switch(n){case s.Patterns.PATTERN000:return(r+a)%2===0;case s.Patterns.PATTERN001:return r%2===0;case s.Patterns.PATTERN010:return a%3===0;case s.Patterns.PATTERN011:return(r+a)%3===0;case s.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2===0;case s.Patterns.PATTERN101:return r*a%2+r*a%3===0;case s.Patterns.PATTERN110:return(r*a%2+r*a%3)%2===0;case s.Patterns.PATTERN111:return(r*a%3+(r+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}s.applyMask=function(r,a){const i=a.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)a.isReserved(c,l)||a.xor(c,l,t(r,c,l))},s.getBestMask=function(r,a){const i=Object.keys(s.Patterns).length;let l=0,c=1/0;for(let d=0;d<i;d++){a(d),s.applyMask(d,r);const m=s.getPenaltyN1(r)+s.getPenaltyN2(r)+s.getPenaltyN3(r)+s.getPenaltyN4(r);s.applyMask(d,r),m<c&&(c=m,l=d)}return l}}(at)),at}var Ie={},zt;function Ns(){if(zt)return Ie;zt=1;const s=vt(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ie.getBlocksCount=function(r,a){switch(a){case s.L:return o[(r-1)*4+0];case s.M:return o[(r-1)*4+1];case s.Q:return o[(r-1)*4+2];case s.H:return o[(r-1)*4+3];default:return}},Ie.getTotalCodewordsCount=function(r,a){switch(a){case s.L:return t[(r-1)*4+0];case s.M:return t[(r-1)*4+1];case s.Q:return t[(r-1)*4+2];case s.H:return t[(r-1)*4+3];default:return}},Ie}var nt={},ke={},Gt;function Lr(){if(Gt)return ke;Gt=1;const s=new Uint8Array(512),o=new Uint8Array(256);return function(){let n=1;for(let r=0;r<255;r++)s[r]=n,o[n]=r,n<<=1,n&256&&(n^=285);for(let r=255;r<512;r++)s[r]=s[r-255]}(),ke.log=function(n){if(n<1)throw new Error("log("+n+")");return o[n]},ke.exp=function(n){return s[n]},ke.mul=function(n,r){return n===0||r===0?0:s[o[n]+o[r]]},ke}var Wt;function Ir(){return Wt||(Wt=1,function(s){const o=Lr();s.mul=function(n,r){const a=new Uint8Array(n.length+r.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<r.length;l++)a[i+l]^=o.mul(n[i],r[l]);return a},s.mod=function(n,r){let a=new Uint8Array(n);for(;a.length-r.length>=0;){const i=a[0];for(let c=0;c<r.length;c++)a[c]^=o.mul(r[c],i);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},s.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let a=0;a<n;a++)r=s.mul(r,new Uint8Array([1,o.exp(a)]));return r}}(nt)),nt}var ot,Vt;function Dr(){if(Vt)return ot;Vt=1;const s=Ir();function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(n){this.degree=n,this.genPoly=s.generateECPolynomial(this.degree)},o.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(n.length+this.degree);r.set(n);const a=s.mod(r,this.genPoly),i=this.degree-a.length;if(i>0){const l=new Uint8Array(this.degree);return l.set(a,i),l}return a},ot=o,ot}var it={},lt={},ct={},Jt;function vs(){return Jt||(Jt=1,ct.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),ct}var G={},Yt;function Ss(){if(Yt)return G;Yt=1;const s="[0-9]+",o="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;G.KANJI=new RegExp(t,"g"),G.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),G.BYTE=new RegExp(n,"g"),G.NUMERIC=new RegExp(s,"g"),G.ALPHANUMERIC=new RegExp(o,"g");const r=new RegExp("^"+t+"$"),a=new RegExp("^"+s+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return G.testKanji=function(c){return r.test(c)},G.testNumeric=function(c){return a.test(c)},G.testAlphanumeric=function(c){return i.test(c)},G}var Kt;function le(){return Kt||(Kt=1,function(s){const o=vs(),t=Ss();s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(a,i){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!o.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?a.ccBits[0]:i<27?a.ccBits[1]:a.ccBits[2]},s.getBestModeForData=function(a){return t.testNumeric(a)?s.NUMERIC:t.testAlphanumeric(a)?s.ALPHANUMERIC:t.testKanji(a)?s.KANJI:s.BYTE},s.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},s.isValid=function(a){return a&&a.bit&&a.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+r)}}s.from=function(a,i){if(s.isValid(a))return a;try{return n(a)}catch{return i}}}(lt)),lt}var Xt;function Fr(){return Xt||(Xt=1,function(s){const o=ie(),t=Ns(),n=vt(),r=le(),a=vs(),i=7973,l=o.getBCHDigit(i);function c(h,u,x){for(let g=1;g<=40;g++)if(u<=s.getCapacity(g,x,h))return g}function d(h,u){return r.getCharCountIndicator(h,u)+4}function m(h,u){let x=0;return h.forEach(function(g){const S=d(g.mode,u);x+=S+g.getBitsLength()}),x}function p(h,u){for(let x=1;x<=40;x++)if(m(h,x)<=s.getCapacity(x,u,r.MIXED))return x}s.from=function(u,x){return a.isValid(u)?parseInt(u,10):x},s.getCapacity=function(u,x,g){if(!a.isValid(u))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=r.BYTE);const S=o.getSymbolTotalCodewords(u),w=t.getTotalCodewordsCount(u,x),M=(S-w)*8;if(g===r.MIXED)return M;const v=M-d(g,u);switch(g){case r.NUMERIC:return Math.floor(v/10*3);case r.ALPHANUMERIC:return Math.floor(v/11*2);case r.KANJI:return Math.floor(v/13);case r.BYTE:default:return Math.floor(v/8)}},s.getBestVersionForData=function(u,x){let g;const S=n.from(x,n.M);if(Array.isArray(u)){if(u.length>1)return p(u,S);if(u.length===0)return 1;g=u[0]}else g=u;return c(g.mode,g.getLength(),S)},s.getEncodedBits=function(u){if(!a.isValid(u)||u<7)throw new Error("Invalid QR Code version");let x=u<<12;for(;o.getBCHDigit(x)-l>=0;)x^=i<<o.getBCHDigit(x)-l;return u<<12|x}}(it)),it}var dt={},Qt;function Br(){if(Qt)return dt;Qt=1;const s=ie(),o=1335,t=21522,n=s.getBCHDigit(o);return dt.getEncodedBits=function(a,i){const l=a.bit<<3|i;let c=l<<10;for(;s.getBCHDigit(c)-n>=0;)c^=o<<s.getBCHDigit(c)-n;return(l<<10|c)^t},dt}var ut={},mt,Zt;function $r(){if(Zt)return mt;Zt=1;const s=le();function o(t){this.mode=s.NUMERIC,this.data=t.toString()}return o.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let r,a,i;for(r=0;r+3<=this.data.length;r+=3)a=this.data.substr(r,3),i=parseInt(a,10),n.put(i,10);const l=this.data.length-r;l>0&&(a=this.data.substr(r),i=parseInt(a,10),n.put(i,l*3+1))},mt=o,mt}var ht,es;function Ur(){if(es)return ht;es=1;const s=le(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=s.ALPHANUMERIC,this.data=n}return t.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let a;for(a=0;a+2<=this.data.length;a+=2){let i=o.indexOf(this.data[a])*45;i+=o.indexOf(this.data[a+1]),r.put(i,11)}this.data.length%2&&r.put(o.indexOf(this.data[a]),6)},ht=t,ht}var xt,ts;function _r(){if(ts)return xt;ts=1;const s=le();function o(t){this.mode=s.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return o.getBitsLength=function(n){return n*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(let n=0,r=this.data.length;n<r;n++)t.put(this.data[n],8)},xt=o,xt}var gt,ss;function qr(){if(ss)return gt;ss=1;const s=le(),o=ie();function t(n){this.mode=s.KANJI,this.data=n}return t.getBitsLength=function(r){return r*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r;for(r=0;r<this.data.length;r++){let a=o.toSJIS(this.data[r]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},gt=t,gt}var pt={exports:{}},rs;function Or(){return rs||(rs=1,function(s){var o={single_source_shortest_paths:function(t,n,r){var a={},i={};i[n]=0;var l=o.PriorityQueue.make();l.push(n,0);for(var c,d,m,p,h,u,x,g,S;!l.empty();){c=l.pop(),d=c.value,p=c.cost,h=t[d]||{};for(m in h)h.hasOwnProperty(m)&&(u=h[m],x=p+u,g=i[m],S=typeof i[m]>"u",(S||g>x)&&(i[m]=x,l.push(m,x),a[m]=d))}if(typeof r<"u"&&typeof i[r]>"u"){var w=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(w)}return a},extract_shortest_path_from_predecessor_list:function(t,n){for(var r=[],a=n;a;)r.push(a),t[a],a=t[a];return r.reverse(),r},find_path:function(t,n,r){var a=o.single_source_shortest_paths(t,n,r);return o.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(t){var n=o.PriorityQueue,r={},a;t=t||{};for(a in n)n.hasOwnProperty(a)&&(r[a]=n[a]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var r={value:t,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};s.exports=o}(pt)),pt.exports}var as;function Hr(){return as||(as=1,function(s){const o=le(),t=$r(),n=Ur(),r=_r(),a=qr(),i=Ss(),l=ie(),c=Or();function d(w){return unescape(encodeURIComponent(w)).length}function m(w,M,v){const k=[];let D;for(;(D=w.exec(v))!==null;)k.push({data:D[0],index:D.index,mode:M,length:D[0].length});return k}function p(w){const M=m(i.NUMERIC,o.NUMERIC,w),v=m(i.ALPHANUMERIC,o.ALPHANUMERIC,w);let k,D;return l.isKanjiModeEnabled()?(k=m(i.BYTE,o.BYTE,w),D=m(i.KANJI,o.KANJI,w)):(k=m(i.BYTE_KANJI,o.BYTE,w),D=[]),M.concat(v,k,D).sort(function(N,b){return N.index-b.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function h(w,M){switch(M){case o.NUMERIC:return t.getBitsLength(w);case o.ALPHANUMERIC:return n.getBitsLength(w);case o.KANJI:return a.getBitsLength(w);case o.BYTE:return r.getBitsLength(w)}}function u(w){return w.reduce(function(M,v){const k=M.length-1>=0?M[M.length-1]:null;return k&&k.mode===v.mode?(M[M.length-1].data+=v.data,M):(M.push(v),M)},[])}function x(w){const M=[];for(let v=0;v<w.length;v++){const k=w[v];switch(k.mode){case o.NUMERIC:M.push([k,{data:k.data,mode:o.ALPHANUMERIC,length:k.length},{data:k.data,mode:o.BYTE,length:k.length}]);break;case o.ALPHANUMERIC:M.push([k,{data:k.data,mode:o.BYTE,length:k.length}]);break;case o.KANJI:M.push([k,{data:k.data,mode:o.BYTE,length:d(k.data)}]);break;case o.BYTE:M.push([{data:k.data,mode:o.BYTE,length:d(k.data)}])}}return M}function g(w,M){const v={},k={start:{}};let D=["start"];for(let f=0;f<w.length;f++){const N=w[f],b=[];for(let j=0;j<N.length;j++){const T=N[j],C=""+f+j;b.push(C),v[C]={node:T,lastCount:0},k[C]={};for(let P=0;P<D.length;P++){const E=D[P];v[E]&&v[E].node.mode===T.mode?(k[E][C]=h(v[E].lastCount+T.length,T.mode)-h(v[E].lastCount,T.mode),v[E].lastCount+=T.length):(v[E]&&(v[E].lastCount=T.length),k[E][C]=h(T.length,T.mode)+4+o.getCharCountIndicator(T.mode,M))}}D=b}for(let f=0;f<D.length;f++)k[D[f]].end=0;return{map:k,table:v}}function S(w,M){let v;const k=o.getBestModeForData(w);if(v=o.from(M,k),v!==o.BYTE&&v.bit<k.bit)throw new Error('"'+w+'" cannot be encoded with mode '+o.toString(v)+`.
 Suggested mode is: `+o.toString(k));switch(v===o.KANJI&&!l.isKanjiModeEnabled()&&(v=o.BYTE),v){case o.NUMERIC:return new t(w);case o.ALPHANUMERIC:return new n(w);case o.KANJI:return new a(w);case o.BYTE:return new r(w)}}s.fromArray=function(M){return M.reduce(function(v,k){return typeof k=="string"?v.push(S(k,null)):k.data&&v.push(S(k.data,k.mode)),v},[])},s.fromString=function(M,v){const k=p(M,l.isKanjiModeEnabled()),D=x(k),f=g(D,v),N=c.find_path(f.map,"start","end"),b=[];for(let j=1;j<N.length-1;j++)b.push(f.table[N[j]].node);return s.fromArray(u(b))},s.rawSplit=function(M){return s.fromArray(p(M,l.isKanjiModeEnabled()))}}(ut)),ut}var ns;function zr(){if(ns)return Qe;ns=1;const s=ie(),o=vt(),t=Cr(),n=Pr(),r=Er(),a=Rr(),i=Ar(),l=Ns(),c=Dr(),d=Fr(),m=Br(),p=le(),h=Hr();function u(f,N){const b=f.size,j=a.getPositions(N);for(let T=0;T<j.length;T++){const C=j[T][0],P=j[T][1];for(let E=-1;E<=7;E++)if(!(C+E<=-1||b<=C+E))for(let A=-1;A<=7;A++)P+A<=-1||b<=P+A||(E>=0&&E<=6&&(A===0||A===6)||A>=0&&A<=6&&(E===0||E===6)||E>=2&&E<=4&&A>=2&&A<=4?f.set(C+E,P+A,!0,!0):f.set(C+E,P+A,!1,!0))}}function x(f){const N=f.size;for(let b=8;b<N-8;b++){const j=b%2===0;f.set(b,6,j,!0),f.set(6,b,j,!0)}}function g(f,N){const b=r.getPositions(N);for(let j=0;j<b.length;j++){const T=b[j][0],C=b[j][1];for(let P=-2;P<=2;P++)for(let E=-2;E<=2;E++)P===-2||P===2||E===-2||E===2||P===0&&E===0?f.set(T+P,C+E,!0,!0):f.set(T+P,C+E,!1,!0)}}function S(f,N){const b=f.size,j=d.getEncodedBits(N);let T,C,P;for(let E=0;E<18;E++)T=Math.floor(E/3),C=E%3+b-8-3,P=(j>>E&1)===1,f.set(T,C,P,!0),f.set(C,T,P,!0)}function w(f,N,b){const j=f.size,T=m.getEncodedBits(N,b);let C,P;for(C=0;C<15;C++)P=(T>>C&1)===1,C<6?f.set(C,8,P,!0):C<8?f.set(C+1,8,P,!0):f.set(j-15+C,8,P,!0),C<8?f.set(8,j-C-1,P,!0):C<9?f.set(8,15-C-1+1,P,!0):f.set(8,15-C-1,P,!0);f.set(j-8,8,1,!0)}function M(f,N){const b=f.size;let j=-1,T=b-1,C=7,P=0;for(let E=b-1;E>0;E-=2)for(E===6&&E--;;){for(let A=0;A<2;A++)if(!f.isReserved(T,E-A)){let U=!1;P<N.length&&(U=(N[P]>>>C&1)===1),f.set(T,E-A,U),C--,C===-1&&(P++,C=7)}if(T+=j,T<0||b<=T){T-=j,j=-j;break}}}function v(f,N,b){const j=new t;b.forEach(function(A){j.put(A.mode.bit,4),j.put(A.getLength(),p.getCharCountIndicator(A.mode,f)),A.write(j)});const T=s.getSymbolTotalCodewords(f),C=l.getTotalCodewordsCount(f,N),P=(T-C)*8;for(j.getLengthInBits()+4<=P&&j.put(0,4);j.getLengthInBits()%8!==0;)j.putBit(0);const E=(P-j.getLengthInBits())/8;for(let A=0;A<E;A++)j.put(A%2?17:236,8);return k(j,f,N)}function k(f,N,b){const j=s.getSymbolTotalCodewords(N),T=l.getTotalCodewordsCount(N,b),C=j-T,P=l.getBlocksCount(N,b),E=j%P,A=P-E,U=Math.floor(j/P),I=Math.floor(C/P),B=I+1,ce=U-I,Re=new c(ce);let Ge=0;const Ae=new Array(P),kt=new Array(P);let We=0;const Ms=new Uint8Array(f.buffer);for(let de=0;de<P;de++){const Je=de<A?I:B;Ae[de]=Ms.slice(Ge,Ge+Je),kt[de]=Re.encode(Ae[de]),Ge+=Je,We=Math.max(We,Je)}const Ve=new Uint8Array(j);let Tt=0,Y,K;for(Y=0;Y<We;Y++)for(K=0;K<P;K++)Y<Ae[K].length&&(Ve[Tt++]=Ae[K][Y]);for(Y=0;Y<ce;Y++)for(K=0;K<P;K++)Ve[Tt++]=kt[K][Y];return Ve}function D(f,N,b,j){let T;if(Array.isArray(f))T=h.fromArray(f);else if(typeof f=="string"){let U=N;if(!U){const I=h.rawSplit(f);U=d.getBestVersionForData(I,b)}T=h.fromString(f,U||40)}else throw new Error("Invalid data");const C=d.getBestVersionForData(T,b);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(!N)N=C;else if(N<C)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+C+`.
`);const P=v(N,b,T),E=s.getSymbolSize(N),A=new n(E);return u(A,N),x(A),g(A,N),w(A,b,0),N>=7&&S(A,N),M(A,P),isNaN(j)&&(j=i.getBestMask(A,w.bind(null,A,b))),i.applyMask(j,A),w(A,b,j),{modules:A,version:N,errorCorrectionLevel:b,maskPattern:j,segments:T}}return Qe.create=function(N,b){if(typeof N>"u"||N==="")throw new Error("No input text");let j=o.M,T,C;return typeof b<"u"&&(j=o.from(b.errorCorrectionLevel,o.M),T=d.from(b.version),C=i.from(b.maskPattern),b.toSJISFunc&&s.setToSJISFunction(b.toSJISFunc)),D(N,T,j,C)},Qe}var ft={},yt={},os;function ks(){return os||(os=1,function(s){function o(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}s.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:a,scale:a?4:i,margin:r,color:{dark:o(n.color.dark||"#000000ff"),light:o(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},s.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},s.getImageWidth=function(n,r){const a=s.getScale(n,r);return Math.floor((n+r.margin*2)*a)},s.qrToImageData=function(n,r,a){const i=r.modules.size,l=r.modules.data,c=s.getScale(i,a),d=Math.floor((i+a.margin*2)*c),m=a.margin*c,p=[a.color.light,a.color.dark];for(let h=0;h<d;h++)for(let u=0;u<d;u++){let x=(h*d+u)*4,g=a.color.light;if(h>=m&&u>=m&&h<d-m&&u<d-m){const S=Math.floor((h-m)/c),w=Math.floor((u-m)/c);g=p[l[S*i+w]?1:0]}n[x++]=g.r,n[x++]=g.g,n[x++]=g.b,n[x]=g.a}}}(yt)),yt}var is;function Gr(){return is||(is=1,function(s){const o=ks();function t(r,a,i){r.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=i,a.width=i,a.style.height=i+"px",a.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}s.render=function(a,i,l){let c=l,d=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(d=n()),c=o.getOptions(c);const m=o.getImageWidth(a.modules.size,c),p=d.getContext("2d"),h=p.createImageData(m,m);return o.qrToImageData(h.data,a,c),t(p,d,m),p.putImageData(h,0,0),d},s.renderToDataURL=function(a,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const d=s.render(a,i,c),m=c.type||"image/png",p=c.rendererOpts||{};return d.toDataURL(m,p.quality)}}(ft)),ft}var bt={},ls;function Wr(){if(ls)return bt;ls=1;const s=ks();function o(r,a){const i=r.a/255,l=a+'="'+r.hex+'"';return i<1?l+" "+a+'-opacity="'+i.toFixed(2).slice(1)+'"':l}function t(r,a,i){let l=r+a;return typeof i<"u"&&(l+=" "+i),l}function n(r,a,i){let l="",c=0,d=!1,m=0;for(let p=0;p<r.length;p++){const h=Math.floor(p%a),u=Math.floor(p/a);!h&&!d&&(d=!0),r[p]?(m++,p>0&&h>0&&r[p-1]||(l+=d?t("M",h+i,.5+u+i):t("m",c,0),c=0,d=!1),h+1<a&&r[p+1]||(l+=t("h",m),m=0)):c++}return l}return bt.render=function(a,i,l){const c=s.getOptions(i),d=a.modules.size,m=a.modules.data,p=d+c.margin*2,h=c.color.light.a?"<path "+o(c.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",u="<path "+o(c.color.dark,"stroke")+' d="'+n(m,d,c.margin)+'"/>',x='viewBox="0 0 '+p+" "+p+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+h+u+`</svg>
`;return typeof l=="function"&&l(null,S),S},bt}var cs;function Vr(){if(cs)return xe;cs=1;const s=Mr(),o=zr(),t=Gr(),n=Wr();function r(a,i,l,c,d){const m=[].slice.call(arguments,1),p=m.length,h=typeof m[p-1]=="function";if(!h&&!s())throw new Error("Callback required as last argument");if(h){if(p<2)throw new Error("Too few arguments provided");p===2?(d=l,l=i,i=c=void 0):p===3&&(i.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=i,i=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(l=i,i=c=void 0):p===2&&!i.getContext&&(c=l,l=i,i=void 0),new Promise(function(u,x){try{const g=o.create(l,c);u(a(g,i,c))}catch(g){x(g)}})}try{const u=o.create(l,c);d(null,a(u,i,c))}catch(u){d(u)}}return xe.create=o.create,xe.toCanvas=r.bind(null,t.render),xe.toDataURL=r.bind(null,t.renderToDataURL),xe.toString=r.bind(null,function(a,i,l){return n.render(a,l)}),xe}var Jr=Vr();const Yr=Ls(Jr),ze=({result:s,onClose:o})=>{const[t,n]=R.useState(!1),[r,a]=R.useState(""),[i,l]=R.useState({pdf:!1,image:!1,copy:!1}),c=`${window.location.origin}/results/${s.id}`,d=`🚀 My internet speed test results:
📥 ${s.downloadSpeed.toFixed(1)} Mbps download
📤 ${s.uploadSpeed.toFixed(1)} Mbps upload
⚡ ${s.ping.toFixed(0)}ms ping

Test your speed at SpeedTest Pro!`;R.useEffect(()=>{(async()=>{try{const g=await Yr.toDataURL(c,{width:200,margin:2,color:{dark:"#1F2937",light:"#FFFFFF"}});a(g)}catch(g){console.error("Error generating QR code:",g)}})()},[c]);const m=async()=>{try{l(x=>({...x,copy:!0})),await navigator.clipboard.writeText(`${d}

${c}`),n(!0),O.success("Copied to clipboard"),setTimeout(()=>n(!1),2e3)}catch(x){console.error("Failed to copy to clipboard:",x),O.error("Failed to copy to clipboard")}finally{l(x=>({...x,copy:!1}))}},p=x=>{const g=encodeURIComponent(d),S=encodeURIComponent(c),w={whatsapp:`https://wa.me/?text=${g}%0A%0A${S}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${S}`,twitter:`https://twitter.com/intent/tweet?text=${g}&url=${S}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${S}&quote=${g}`,reddit:`https://www.reddit.com/submit?url=${S}&title=${g}`,telegram:`https://t.me/share/url?url=${S}&text=${g}`,pinterest:`https://pinterest.com/pin/create/button/?url=${S}&description=${g}`,email:`mailto:?subject=My Internet Speed Test Results&body=${g}%0A%0A${S}`};window.location.href=w[x]},h=async()=>{try{l(M=>({...M,image:!0}));const x=document.querySelector(".result-capture-area");if(!x){O.error("Could not find result element to capture");return}const S=(await Bs(x,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png",1),w=document.createElement("a");w.href=S,w.download=`speedtest-results-${new Date().toISOString().split("T")[0]}.png`,document.body.appendChild(w),w.click(),document.body.removeChild(w),O.success("Image downloaded successfully")}catch(x){console.error("Error downloading image:",x),O.error("Failed to download image. Please try again.")}finally{l(x=>({...x,image:!1}))}},u=x=>{switch(x){case"copy":m();break;case"image":h();break;case"twitter":case"facebook":case"linkedin":case"email":p(x);break;default:console.error("Unknown platform:",x)}};return e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),e.jsx(y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md sm:max-w-lg md:max-w-xl relative z-10 overflow-hidden",children:e.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Share Your Results"}),e.jsx(y.button,{onClick:o,className:"text-gray-500 hover:text-gray-700 transition-colors p-2 rounded-full hover:bg-gray-100",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(jt,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 sm:p-5 rounded-xl border border-blue-100 result-capture-area",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800 mb-3 sm:mb-4",children:"Your Speed Test Results"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 text-center",children:[e.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-green-600 font-bold text-lg sm:text-2xl",children:s.downloadSpeed.toFixed(1)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Mbps Down"})]}),e.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-blue-600 font-bold text-lg sm:text-2xl",children:s.uploadSpeed.toFixed(1)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Mbps Up"})]}),e.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-amber-600 font-bold text-lg sm:text-2xl",children:s.ping.toFixed(0)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"ms Ping"})]})]}),s.packetLoss!==void 0&&e.jsxs("div",{className:"mt-3 bg-white p-2 sm:p-3 rounded-lg shadow-sm text-center",children:[e.jsxs("div",{className:"text-purple-600 font-bold text-base sm:text-lg",children:[(()=>{const x=typeof s.packetLoss=="number"?s.packetLoss:s.packetLoss?.percentage;return typeof x=="number"?x.toFixed(1):"0.0"})(),"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Packet Loss"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Share on Social Media"}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs(y.button,{onClick:()=>u("twitter"),className:"flex flex-col items-center justify-center p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},children:[e.jsx(bs,{className:"w-6 h-6 text-blue-400 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:"Twitter"})]}),e.jsxs(y.button,{onClick:()=>u("facebook"),className:"flex flex-col items-center justify-center p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},children:[e.jsx(xs,{className:"w-6 h-6 text-blue-600 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:"Facebook"})]}),e.jsxs(y.button,{onClick:()=>u("linkedin"),className:"flex flex-col items-center justify-center p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},children:[e.jsx(ps,{className:"w-6 h-6 text-blue-700 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:"LinkedIn"})]}),e.jsxs(y.button,{onClick:()=>u("email"),className:"flex flex-col items-center justify-center p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},children:[e.jsx(be,{className:"w-6 h-6 text-gray-600 mb-2"}),e.jsx("span",{className:"text-xs font-medium",children:"Email"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Save & Copy"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(y.button,{onClick:()=>u("copy"),className:"flex items-center justify-center gap-2 p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#faf5ff"},whileTap:{scale:.95},children:[i.copy?e.jsx(Be,{className:"w-5 h-5 text-purple-600 animate-spin"}):t?e.jsx(Gs,{className:"w-5 h-5 text-green-600"}):e.jsx(Vs,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:t?"Copied!":"Copy Link"})]}),e.jsxs(y.button,{onClick:()=>u("image"),className:"flex items-center justify-center gap-2 p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",whileHover:{y:-2,backgroundColor:"#f0fff4"},whileTap:{scale:.95},children:[i.image?e.jsx(Be,{className:"w-5 h-5 text-green-600 animate-spin"}):e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Save Image"})]})]})]}),r&&e.jsxs(y.div,{className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Scan to View Results"}),e.jsx("img",{src:r,alt:"QR Code",className:"w-32 h-32 mb-2"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Scan with your phone camera"})]})]})]})})]})},Ts=({isOpen:s,onClose:o})=>e.jsx(z,{children:s&&e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),e.jsxs(y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md sm:max-w-lg md:max-w-xl relative z-10 overflow-hidden max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"p-4 sm:p-6 md:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent flex items-center",children:[e.jsx(je,{className:"w-6 h-6 mr-2 text-blue-600"}),"Network Speed Guide"]}),e.jsx(y.button,{onClick:o,className:"text-gray-500 hover:text-gray-700 transition-colors p-2 rounded-full hover:bg-gray-100",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(jt,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[e.jsxs(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-4 sm:p-5 border border-blue-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-blue-800 mb-2 sm:mb-3 flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2"}),"What is a Speed Test?"]}),e.jsx("p",{className:"text-sm sm:text-base text-blue-700",children:"A speed test measures your internet connection's performance by checking download speed, upload speed, and ping (latency). This helps you understand if you're getting the service you're paying for from your ISP."})]}),e.jsxs(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[e.jsx(wt,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-amber-500"}),"Speed Metrics Explained"]}),e.jsxs("div",{className:"grid gap-3 sm:gap-4",children:[e.jsxs(y.div,{whileHover:{y:-2,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mr-3 shadow-sm",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"text-base sm:text-lg font-medium text-gray-800",children:"Download Speed"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-13",children:"Measures how quickly data is transferred from the internet to your device. Higher is better for streaming videos, downloading files, and browsing websites."})]}),e.jsxs(y.div,{whileHover:{y:-2,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mr-3 shadow-sm",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"text-base sm:text-lg font-medium text-gray-800",children:"Upload Speed"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-13",children:"Measures how quickly data is transferred from your device to the internet. Important for video calls, uploading files to cloud storage, and online gaming."})]}),e.jsxs(y.div,{whileHover:{y:-2,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mr-3 shadow-sm",children:e.jsx(hs,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"text-base sm:text-lg font-medium text-gray-800",children:"Ping (Latency)"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-13",children:"Measures the time it takes for data to travel from your device to a server and back. Lower is better, especially for online gaming and video calls."})]}),e.jsxs(y.div,{whileHover:{y:-2,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},className:"bg-white rounded-lg p-3 sm:p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center mr-3 shadow-sm",children:e.jsx(J,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"text-base sm:text-lg font-medium text-gray-800",children:"Jitter"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-13",children:"Measures the variation in ping over time. Lower jitter means a more stable connection, which is important for real-time applications like video calls and online gaming."})]})]})]}),e.jsxs(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[e.jsx(wt,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-blue-500"}),"What's a Good Speed?"]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recommended"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"Web Browsing"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"1 Mbps"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"5> Mbps"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"SD Video Streaming"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"3 Mbps"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"5> Mbps"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"HD Video Streaming"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"5 Mbps"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"10> Mbps"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"4K Video Streaming"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"25 Mbps"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"35> Mbps"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"Online Gaming"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"3 Mbps, <50ms ping"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"10> Mbps, <20ms ping"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"Video Calls"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"1 Mbps up/down"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"3> Mbps up/down"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 font-medium",children:"Large File Downloads"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"10 Mbps"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"50> Mbps"})]})]})]})})]}),e.jsxs(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"bg-gradient-to-r from-green-50 to-emerald-100 rounded-xl p-4 sm:p-5 border border-green-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-green-800 mb-3 sm:mb-4 flex items-center",children:[e.jsx(Ks,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-yellow-500"}),"Tips for Better Speed"]}),e.jsxs("ul",{className:"space-y-2 sm:space-y-3 text-sm sm:text-base text-green-800 list-disc pl-5",children:[e.jsx("li",{children:"Position your router in a central location, away from walls and metal objects"}),e.jsx("li",{children:"Use a wired Ethernet connection when possible"}),e.jsx("li",{children:"Update your router's firmware regularly"}),e.jsx("li",{children:"Secure your Wi-Fi with a password to prevent unauthorized users"}),e.jsx("li",{children:"Consider upgrading your router if it's more than 3-4 years old"}),e.jsx("li",{children:"Close unused applications and limit the number of devices connected simultaneously"}),e.jsx("li",{children:"Contact your ISP if speeds are consistently below what you're paying for"})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 rounded-b-2xl border-t border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Remember that internet speed can vary based on many factors. If you've tried these tips and still experience issues, contact your ISP for assistance."})})]})]})}),St=({packetLoss:s})=>{const t=s.percentage<1?"excellent":s.percentage<2.5?"good":s.percentage<5?"fair":"poor",n=()=>{switch(t){case"excellent":return{icon:e.jsx(pe,{className:"w-6 h-6 text-green-500"}),color:"bg-green-500",textColor:"text-green-500",label:"Excellent"};case"good":return{icon:e.jsx(pe,{className:"w-6 h-6 text-blue-500"}),color:"bg-blue-500",textColor:"text-blue-500",label:"Good"};case"fair":return{icon:e.jsx(Et,{className:"w-6 h-6 text-yellow-500"}),color:"bg-yellow-500",textColor:"text-yellow-500",label:"Fair"};case"poor":return{icon:e.jsx(ye,{className:"w-6 h-6 text-red-500"}),color:"bg-red-500",textColor:"text-red-500",label:"Poor"};default:return{icon:e.jsx(Et,{className:"w-6 h-6 text-gray-500"}),color:"bg-gray-500",textColor:"text-gray-500",label:"Unknown"}}},{icon:r,color:a,textColor:i,label:l}=n();return e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${a}`}),e.jsx("div",{className:"flex items-center justify-center mb-2",children:r}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[s.percentage.toFixed(1),e.jsx("span",{className:"text-lg font-medium",children:"%"})]}),e.jsx("div",{className:"text-gray-500 text-sm",children:"Packet Loss"}),e.jsx("div",{className:`mt-2 text-sm font-medium ${i}`,children:l}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:t==="excellent"||t==="good"?"Your connection is stable with minimal packet loss.":t==="fair"?"Some packets are being lost. May affect real-time applications.":"High packet loss detected. Video calls and gaming may be affected."}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex justify-between w-full",children:[e.jsxs("span",{children:["Sent: ",s.sent]}),e.jsxs("span",{children:["Received: ",s.received]})]})]})},Kr=({onTestComplete:s})=>{const[o,t]=R.useState(!1),[n,r]=R.useState({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),[a,i]=R.useState(null),[l,c]=R.useState(!1),d=R.useCallback(g=>{r(g)},[]),m=async()=>{t(!0),i(null),r({phase:"ping",progress:0,currentSpeed:0,elapsedTime:0});try{const S=await new Ue(d,void 0,{duration:10,parallelConnections:4,enableBufferbloat:!0,enableStressTest:!1}).runSpeedTest();i(S);const w=JSON.parse(localStorage.getItem("speedTestResults")||"[]");w.unshift(S),localStorage.setItem("speedTestResults",JSON.stringify(w.slice(0,20))),s&&s(S)}catch(g){console.error("Speed test failed:",g),setTimeout(()=>m(),2e3)}finally{t(!1)}};R.useEffect(()=>{!l&&!o&&!a&&(c(!0),setTimeout(()=>{m()},1e3))},[l,o,a]);const p=g=>{switch(g){case"ping":return"Testing Connection";case"download":return"Testing Download";case"upload":return"Testing Upload";case"packetLoss":return"Measuring Packet Loss";case"complete":return"Test Complete";default:return"Initializing"}},h=g=>{switch(g){case"ping":return"from-blue-400 to-blue-600";case"download":return"from-green-400 to-green-600";case"upload":return"from-orange-400 to-orange-600";case"packetLoss":return"from-yellow-400 to-yellow-600";case"complete":return"from-purple-400 to-purple-600";default:return"from-gray-400 to-gray-600"}},u=g=>{switch(g){case"ping":return e.jsx(je,{className:"w-8 h-8 text-white"});case"download":return e.jsx(re,{className:"w-8 h-8 text-white"});case"upload":return e.jsx(oe,{className:"w-8 h-8 text-white"});case"packetLoss":return e.jsx(ye,{className:"w-8 h-8 text-white"});case"complete":return e.jsx(J,{className:"w-8 h-8 text-white"});default:return e.jsx(J,{className:"w-8 h-8 text-white"})}},x=g=>{const S=2*Math.PI*120;return S-g/100*S};return e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[e.jsx(y.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 sm:w-64 sm:h-64 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{scale:[1,1.2,1],x:[0,30,-30,0],y:[0,-30,30,0]},transition:{duration:8,repeat:1/0,repeatType:"reverse"}}),e.jsx(y.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 sm:w-64 sm:h-64 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{scale:[1,.8,1],x:[0,-40,40,0],y:[0,40,-40,0]},transition:{duration:10,repeat:1/0,repeatType:"reverse"}})]}),e.jsxs("div",{className:"relative w-64 h-64 sm:w-72 sm:h-72 flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 256 256",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",className:`${n.phase==="ping"?"stop-color-blue-400":n.phase==="download"?"stop-color-green-400":"stop-color-orange-400"}`}),e.jsx("stop",{offset:"100%",className:`${n.phase==="ping"?"stop-color-blue-600":n.phase==="download"?"stop-color-green-600":"stop-color-orange-600"}`})]}),e.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[e.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),e.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),e.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-gray-100"}),e.jsx("circle",{cx:"128",cy:"128",r:"120",stroke:n.phase==="ping"?"#3B82F6":n.phase==="download"?"#10B981":"#F97316",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:2*Math.PI*120,strokeDashoffset:x(n.progress),className:"transition-all duration-300 ease-out",transform:"rotate(-90 128 128)",filter:"url(#glow)"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 sm:p-6 text-center",children:e.jsx(z,{mode:"wait",children:e.jsxs(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex flex-col items-center",children:[e.jsx(y.div,{animate:o?{rotate:360}:{rotate:0},transition:o?{duration:2,repeat:1/0,ease:"linear"}:{duration:0},className:`flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 rounded-full mb-3 sm:mb-4 bg-gradient-to-r ${h(n.phase)}`,children:u(n.phase)}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-1 sm:mb-2",children:p(n.phase)}),n.currentSpeed>0&&n.phase!=="ping"&&e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-1",children:[n.currentSpeed.toFixed(1),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-500 ml-1",children:"Mbps"})]}),n.phase==="ping"&&e.jsx("div",{className:"flex items-center gap-2 text-blue-600",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})]},"progress")})})]})]})})},Xr=({onTestComplete:s})=>{const o=_e(),[t,n]=R.useState(!1),[r,a]=R.useState({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),[i,l]=R.useState(null),[c,d]=R.useState(!1),[m,p]=R.useState(!1),[h,u]=R.useState(!1),[x,g]=R.useState(!1),[S,w]=R.useState(!1),M=R.useCallback(f=>{a(f)},[]),v=async()=>{n(!0),l(null),a({phase:"ping",progress:0,currentSpeed:0,elapsedTime:0});try{const N=await new Ue(M,void 0,{duration:10,parallelConnections:4,enableBufferbloat:!0,enableStressTest:!1}).runSpeedTest();l(N);const b=JSON.parse(localStorage.getItem("speedTestResults")||"[]");b.unshift(N),localStorage.setItem("speedTestResults",JSON.stringify(b.slice(0,20))),s&&s(N),w(!0)}catch(f){console.error("Speed test failed:",f),setTimeout(()=>v(),2e3)}finally{n(!1)}},k=()=>{l(null),a({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),d(!1),w(!1),setTimeout(()=>{v()},500)};R.useEffect(()=>{!c&&!t&&!i&&(d(!0),setTimeout(()=>{v()},1e3))},[c,t,i]),R.useEffect(()=>{if(S&&i&&!t){const f=setTimeout(()=>{o(`/results/${i.id}`)},500);return()=>clearTimeout(f)}},[S,i,t,o]);const D=({icon:f,value:N,unit:b,label:j,color:T})=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-100 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${T}`}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full mb-2 sm:mb-3 ${T.replace("bg-","bg-").replace("-500","-100")}`,children:f}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-baseline gap-1",children:[typeof N=="number"?N.toFixed(1):N,e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:b})]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mt-1",children:j})]});return e.jsxs("div",{className:"container mx-auto px-4 py-6 sm:py-8 md:py-12",children:[e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-8 lg:items-start",children:[e.jsx("div",{className:"lg:w-1/2 mb-8 lg:mb-0",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Speed Test"}),e.jsx(Kr,{onTestComplete:f=>{l(f),s&&s(f)}}),i&&e.jsx(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.3},className:"flex justify-center mt-6",children:e.jsxs(y.button,{onClick:k,className:"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg hover:shadow-blue-300/30 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-5 h-5"}),"Run Again"]})})]})}),e.jsx("div",{className:"lg:w-1/2",children:e.jsx(z,{children:i&&e.jsxs(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100 mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Test Results"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(D,{icon:e.jsx(re,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"}),value:i.downloadSpeed,unit:"Mbps",label:"Download",color:"bg-green-500"}),e.jsx(D,{icon:e.jsx(oe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),value:i.uploadSpeed,unit:"Mbps",label:"Upload",color:"bg-blue-500"}),e.jsx(D,{icon:e.jsx(je,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-500"}),value:i.ping,unit:"ms",label:"Ping",color:"bg-orange-500"}),i.packetLoss&&e.jsx(St,{packetLoss:i.packetLoss})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Actions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(y.button,{onClick:()=>p(!0),className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-xl hover:shadow-lg hover:shadow-green-300/30 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base",whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(16, 185, 129, 0.5)"},whileTap:{scale:.97},children:[e.jsx(Oe,{className:"w-5 h-5"}),"Share Results"]}),e.jsxs(y.button,{onClick:async()=>{try{g(!0);const{generatePDFReport:f}=await us(async()=>{const{generatePDFReport:j}=await import("./ReportGenerator-lY0zm9Sv.js");return{generatePDFReport:j}},__vite__mapDeps([0,1,2,3]));let N;const b=document.querySelector(".bg-white.border.border-gray-200.rounded-lg img");b&&b.complete&&(N=b.src),await f(i,N),O.success("PDF report generated successfully!")}catch(f){console.error("Error generating PDF report:",f),O.error("Failed to generate PDF. Please try again.")}finally{g(!1)}},className:`flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-xl transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base ${x?"opacity-80 cursor-not-allowed":"hover:shadow-lg hover:shadow-red-300/30"}`,whileHover:x?{}:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(239, 68, 68, 0.5)"},whileTap:x?{}:{scale:.97},disabled:x,children:[x?e.jsx(Be,{className:"w-5 h-5 animate-spin"}):e.jsx(qe,{className:"w-5 h-5"}),x?"Generating...":"PDF Report"]})]})]})]})})})]})}),e.jsx(y.button,{onClick:()=>u(!0),className:"fixed bottom-6 right-6 p-3 sm:p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-10",whileHover:{scale:1.1,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx(z,{children:m&&i&&e.jsx(ze,{result:i,onClose:()=>p(!1)})}),e.jsx(z,{children:h&&e.jsx(Ts,{isOpen:h,onClose:()=>u(!1)})})]})},Qr=({onTestComplete:s})=>{const o=_e(),[t,n]=R.useState(!1),[r,a]=R.useState({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),[i,l]=R.useState(null),[c,d]=R.useState(!1),[m,p]=R.useState(!1),[h,u]=R.useState(!1),[x,g]=R.useState(!1),[S,w]=R.useState(!1),[M,v]=R.useState("cf-auto"),[k,D]=R.useState(fe.XHR),[f,N]=R.useState([]),b=R.useCallback(I=>{a(I)},[]),j=async()=>{n(!0),l(null),a({phase:"ping",progress:0,currentSpeed:0,elapsedTime:0});try{console.log("Starting speed test with server:",M);const I=new Ue(b,void 0,{duration:10,parallelConnections:4,enableBufferbloat:!0,enableStressTest:!1,protocol:k},M),B=await I.selectBestServer();console.log("Selected server:",B.name,"at",B.location),O.success(`Connected to ${B.name} - ${B.location}`);const ce=await I.runSpeedTest();l(ce);const Re=JSON.parse(localStorage.getItem("speedTestResults")||"[]");Re.unshift(ce),localStorage.setItem("speedTestResults",JSON.stringify(Re.slice(0,20))),s&&s(ce),w(!0),I.dispose()}catch(I){console.error("Speed test failed:",I);const B=I instanceof Error?I.message:"Unknown error occurred";O.error(`Test failed: ${B}. Retrying...`),a({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),setTimeout(()=>j(),3e3)}finally{n(!1)}},T=()=>{l(null),a({phase:"idle",progress:0,currentSpeed:0,elapsedTime:0}),d(!1),w(!1),setTimeout(()=>{j()},500)};R.useEffect(()=>{const I=new Ue;N(I.getAvailableServers()),I.dispose()},[]),R.useEffect(()=>{console.log("Auto-start useEffect triggered:",{autoStarted:c,isTestRunning:t,testResult:i}),!c&&!t&&!i&&(console.log("Auto-starting speed test in 1 second..."),d(!0),setTimeout(()=>{console.log("Auto-start timeout triggered, calling startTest()"),j()},1e3))},[c,t,i,j]),R.useEffect(()=>{if(S&&i){const I=setTimeout(()=>{o(`/results/${i.id}`)},2e3);return()=>clearTimeout(I)}},[S,i,o]);const C=()=>{p(!0)},P=()=>{g(!0),setTimeout(()=>{g(!1),O.success("PDF report generated!")},1500)},E=()=>{switch(r.phase){case"ping":return e.jsx(J,{className:"w-6 h-6 text-blue-500"});case"download":return e.jsx(re,{className:"w-6 h-6 text-green-500"});case"upload":return e.jsx(oe,{className:"w-6 h-6 text-orange-500"});case"bufferbloat":return e.jsx(J,{className:"w-6 h-6 text-purple-500"});case"packetLoss":return e.jsx(ye,{className:"w-6 h-6 text-yellow-500"});default:return e.jsx(je,{className:"w-6 h-6 text-gray-500"})}},A=()=>{switch(r.phase){case"ping":return"Testing Connection";case"download":return"Testing Download";case"upload":return"Testing Upload";case"bufferbloat":return"Testing Bufferbloat";case"packetLoss":return"Testing Packet Loss";case"complete":return"Test Complete";default:return"Initializing"}},U=()=>{switch(r.phase){case"ping":return"bg-blue-500";case"download":return"bg-green-500";case"upload":return"bg-orange-500";case"bufferbloat":return"bg-purple-500";case"packetLoss":return"bg-yellow-500";case"complete":return"bg-indigo-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-5 text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Internet Speed Test"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Test your connection speed with our advanced tool"})]}),e.jsxs("div",{className:"px-6 pt-4 pb-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Test Server:"})]}),e.jsx("select",{className:"text-sm bg-gray-50 border border-gray-200 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:M,onChange:I=>v(I.target.value),disabled:t,children:f.map(I=>e.jsxs("option",{value:I.id,children:[I.name," ",I.id==="cf-auto"?"(Recommended)":`- ${I.location}`]},I.id))})]}),e.jsx("div",{className:"flex flex-col space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Protocol:"})]}),e.jsxs("select",{className:"text-sm bg-gray-50 border border-gray-200 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:k,onChange:I=>D(I.target.value),disabled:t,children:[e.jsx("option",{value:fe.XHR,children:"XHR/Fetch (Standard)"}),e.jsx("option",{value:fe.WEBSOCKET,children:"WebSocket (Lower Latency)"})]})]})})]}),e.jsxs("div",{className:"p-6",children:[t&&e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[E(),e.jsx("span",{className:"font-medium text-gray-800",children:A()})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r.progress),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx(y.div,{className:`h-full ${U()}`,initial:{width:"0%"},animate:{width:`${r.progress}%`},transition:{duration:.3}})}),r.phase==="download"||r.phase==="upload"?e.jsxs("div",{className:"mt-2 text-center text-lg font-bold text-gray-800",children:[r.currentSpeed.toFixed(1)," ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"Mbps"})]}):null]}),e.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:e.jsxs(z,{mode:"wait",children:[!t&&!i&&e.jsxs(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex flex-col items-center",children:[e.jsx(y.div,{className:"w-48 h-48 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,children:e.jsx("div",{className:"w-44 h-44 rounded-full bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(je,{className:"w-10 h-10 text-blue-500 mx-auto mb-2"}),e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Start Test"})]})})}),e.jsx("p",{className:"mt-4 text-gray-600 text-center max-w-sm",children:"Click to test your download speed, upload speed, ping, and more"})]},"start"),t&&e.jsxs(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative w-48 h-48 flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#f0f0f0",strokeWidth:"8"}),e.jsx(y.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:r.phase==="download"?"#10B981":r.phase==="upload"?"#F97316":r.phase==="ping"?"#3B82F6":r.phase==="bufferbloat"?"#8B5CF6":r.phase==="packetLoss"?"#FBBF24":"#6366F1",strokeWidth:"8",strokeDasharray:"283",strokeDashoffset:283-283*r.progress/100,strokeLinecap:"round",transform:"rotate(-90 50 50)",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*r.progress/100},transition:{duration:.3}})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:r.phase==="download"||r.phase==="upload"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-3xl font-bold text-gray-800",children:r.currentSpeed.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500",children:"Mbps"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:[Math.round(r.progress),"%"]}),e.jsx("span",{className:"text-sm text-gray-500",children:A()})]})})]},"testing"),!t&&i&&e.jsxs(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex flex-col items-center",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 mb-2",children:e.jsx(re,{className:"w-6 h-6 text-green-600"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.downloadSpeed.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500",children:"Mbps Download"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-orange-100 mb-2",children:e.jsx(oe,{className:"w-6 h-6 text-orange-600"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.uploadSpeed.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-500",children:"Mbps Upload"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 mb-2",children:e.jsx(J,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-800",children:i.ping.toFixed(0)}),e.jsx("span",{className:"text-sm text-gray-500",children:"ms Ping"})]})]}),e.jsxs(y.button,{onClick:T,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-5 h-5"}),"Test Again"]})]},"result")]})}),!t&&i&&e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"mt-6 flex flex-wrap gap-3 justify-center",children:[e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Oe,{className:"w-4 h-4 text-blue-500"}),"Share Results"]}),e.jsxs("button",{onClick:P,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium text-gray-700",disabled:x,children:[x?e.jsx(Be,{className:"w-4 h-4 text-blue-500 animate-spin"}):e.jsx(qe,{className:"w-4 h-4 text-blue-500"}),"Generate Report"]}),e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-500"}),"Speed Guide"]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsxs("span",{children:["Server: ",i?.serverLocation||M]})]}),e.jsx("div",{children:"Powered by SpeedTest Pro"})]})]}),!t&&i&&e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.packetLoss&&e.jsx(St,{packetLoss:i.packetLoss}),i.bufferbloat&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-purple-500"}),"Bufferbloat Analysis"]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Rating"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${i.bufferbloat.rating==="A"?"bg-green-100 text-green-800":i.bufferbloat.rating==="B"?"bg-blue-100 text-blue-800":i.bufferbloat.rating==="C"?"bg-yellow-100 text-yellow-800":i.bufferbloat.rating==="D"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:i.bufferbloat.rating})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Latency Increase"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[i.bufferbloat.latencyIncrease," ms"]})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Bufferbloat occurs when your connection gets congested, causing delays. A lower rating indicates potential issues during heavy usage."})]}),i.protocolOverhead&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Lt,{className:"w-5 h-5 text-blue-500"}),"Protocol Overhead Analysis"]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Detection Mode"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${i.protocolOverhead.detected?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:i.protocolOverhead.detected?"Auto-Detected":"Fixed Factor"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Overhead Factor"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[i.protocolOverhead.factor.toFixed(3),"x"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Overhead Percentage"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[i.protocolOverhead.overheadPercentage.toFixed(1),"%"]})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Protocol overhead represents the extra data needed to transmit your actual content. This includes headers, encryption, and other protocol-specific information."})]})]})]}),e.jsx(z,{children:m&&i&&e.jsx(ze,{result:i,onClose:()=>p(!1)})}),e.jsx(z,{children:h&&e.jsx(Ts,{onClose:()=>u(!1)})})]})},Zr=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-6",children:e.jsx(Me,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Your privacy is our priority. Learn how we protect your data and ensure complete anonymity."})]}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{icon:tr,title:"No Personal Data",desc:"We never collect names, emails, or personal information"},{icon:Rt,title:"Local Storage Only",desc:"Test results stored locally in your browser only"},{icon:It,title:"Zero Tracking",desc:"No cookies, analytics, or tracking scripts"}].map((s,o)=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mb-4",children:e.jsx(s.icon,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.desc})]},s.title))}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Js,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"What Data We Collect"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Network Performance Data"}),e.jsx("p",{className:"text-gray-600",children:"Download speed, upload speed, ping, and jitter measurements for test functionality."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Approximate Location"}),e.jsx("p",{className:"text-gray-600",children:"City and country (via IP geolocation) to select optimal test servers. No precise location data."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Technical Information"}),e.jsx("p",{className:"text-gray-600",children:"Browser type and basic device information for compatibility and optimization."})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Rt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"How We Use Your Data"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-600",children:"Your data is used exclusively for:"}),e.jsxs("ul",{className:"space-y-2 ml-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Conducting accurate speed tests"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Selecting optimal test servers"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Displaying your test results"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Generating downloadable reports"})]})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(It,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Data Protection & Anonymization"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Complete Anonymization"}),e.jsx("p",{className:"text-green-700 text-sm",children:"All data is immediately anonymized and cannot be traced back to individual users. We use advanced techniques to ensure your privacy is protected."})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Local Storage"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Test history is stored locally in your browser only. You can clear this data anytime through your browser settings."})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"No Third-Party Sharing"}),e.jsx("p",{className:"text-purple-700 text-sm",children:"We never share, sell, or transfer your data to third parties. Your information stays with us and is used solely for test functionality."})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Me,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Rights"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"GDPR Compliance"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"• Right to access your data"}),e.jsx("li",{children:"• Right to data portability"}),e.jsx("li",{children:"• Right to erasure"}),e.jsx("li",{children:"• Right to rectification"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"CCPA Compliance"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"• Right to know what data is collected"}),e.jsx("li",{children:"• Right to delete personal information"}),e.jsx("li",{children:"• Right to opt-out of data sales"}),e.jsx("li",{children:"• Right to non-discrimination"})]})]})]})]}),e.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Contact & Updates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-gray-600",children:["This privacy policy was last updated on"," ",e.jsx("strong",{children:"January 2024"}),". We may update this policy to reflect changes in our practices or legal requirements."]}),e.jsxs("p",{className:"text-gray-600",children:["For privacy-related questions or concerns, please contact us at"," ",e.jsx("a",{href:"mailto:privacy@speedtestpro.com",className:"text-blue-600 hover:underline",children:"privacy@speedtestpro.com"})]})]})]})]})]})})}),ea=()=>e.jsx(Zr,{}),ta=()=>{const[s,o]=R.useState({name:"",email:"",subject:"",message:""}),[t,n]=R.useState(!1),[r,a]=R.useState(!1),i=c=>{const{name:d,value:m}=c.target;o(p=>({...p,[d]:m}))},l=c=>{c.preventDefault(),n(!0),setTimeout(()=>{n(!1),a(!0),o({name:"",email:"",subject:"",message:""})},1500)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-6",children:e.jsx(be,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Have questions or feedback? We're here to help. Reach out to our team."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[{icon:be,title:"Email Us",content:"support@speedtestpro.com",link:"mailto:support@speedtestpro.com"},{icon:Qs,title:"Call Us",content:"+1 (555) 123-4567",link:"tel:+15551234567"},{icon:fs,title:"Location",content:"San Francisco, CA",link:null}].map((c,d)=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+d*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mb-4",children:e.jsx(c.icon,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:c.title}),c.link?e.jsx("a",{href:c.link,className:"text-blue-600 hover:underline",children:c.content}):e.jsx("p",{className:"text-gray-600",children:c.content})]},c.title))}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(pe,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out. We'll get back to you shortly."}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send Another Message"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Send Us a Message"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsxs("select",{id:"subject",name:"subject",value:s.subject,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",children:[e.jsx("option",{value:"",children:"Select a subject"}),e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"support",children:"Technical Support"}),e.jsx("option",{value:"feedback",children:"Feedback"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Message"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:i,required:!0,rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t,className:`w-full px-6 py-3 flex items-center justify-center gap-2 rounded-lg text-white font-medium transition-colors ${t?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Zs,{className:"w-5 h-5"}),"Send Message"]})})})]})]})}),e.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Your information is protected by our"," ",e.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})})})},sa=()=>{const{resultId:s}=ds(),o=_e(),[t,n]=R.useState(null),[r,a]=R.useState(!1),[i,l]=R.useState(!1),[c,d]=R.useState(!1);R.useEffect(()=>{s?(()=>{try{const S=JSON.parse(localStorage.getItem("speedTestResults")||"[]").find(w=>w.id===s);S?n(S):d(!0)}catch(g){console.error("Error loading test result:",g),d(!0)}})():d(!0)},[s]);const m=()=>{o("/")},p=()=>{l(!0),setTimeout(()=>{l(!1)},1500)},h=({icon:x,value:g,unit:S,label:w,color:M})=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-100 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${M}`}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full mb-2 sm:mb-3 ${M.replace("bg-","bg-").replace("-500","-100")}`,children:x}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-baseline gap-1",children:[typeof g=="number"?g.toFixed(1):g,e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:S})]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mt-1",children:w})]});if(c)return e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-6",children:e.jsx(ye,{className:"w-8 h-8 text-red-500"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Result Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The test result you're looking for doesn't exist or has expired."}),e.jsxs(y.button,{onClick:m,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 font-medium mx-auto",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-5 h-5"}),"Run New Test"]})]})});if(!t)return e.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const u=x=>new Date(x).toLocaleString();return e.jsxs("div",{className:"container mx-auto px-4 py-6 sm:py-8 md:py-12",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(y.button,{onClick:()=>o("/"),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",whileHover:{x:-5},children:[e.jsx(ms,{className:"w-4 h-4"}),"Back to Speed Test"]}),e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Your Speed Test Results"}),e.jsxs("p",{className:"text-gray-600",children:["Test completed on ",u(t.timestamp)]})]}),e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100 mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Test Results"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(h,{icon:e.jsx(re,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"}),value:t.downloadSpeed,unit:"Mbps",label:"Download",color:"bg-green-500"}),e.jsx(h,{icon:e.jsx(oe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),value:t.uploadSpeed,unit:"Mbps",label:"Upload",color:"bg-blue-500"}),e.jsx(h,{icon:e.jsx(je,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-500"}),value:t.ping,unit:"ms",label:"Ping",color:"bg-orange-500"}),t.packetLoss&&e.jsx(St,{packetLoss:t.packetLoss})]})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100 mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Test Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Server Location"}),e.jsx("p",{className:"font-medium",children:t.serverLocation})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Your Location"}),e.jsxs("p",{className:"font-medium",children:[t.userLocation.city,", ",t.userLocation.country]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Test Duration"}),e.jsxs("p",{className:"font-medium",children:[t.testDuration.toFixed(1)," seconds"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Jitter"}),e.jsxs("p",{className:"font-medium",children:[t.jitter.toFixed(1)," ms"]})]}),t.bufferbloat&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Bufferbloat Rating"}),e.jsxs("p",{className:"font-medium",children:[t.bufferbloat.rating," (",t.bufferbloat.latencyIncrease.toFixed(1)," ms)"]})]}),t.stability&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Connection Stability"}),e.jsxs("p",{className:"font-medium",children:[t.stability.score.toFixed(1),"%"]})]})]})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-100",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Actions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(y.button,{onClick:()=>a(!0),className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-xl hover:shadow-lg hover:shadow-green-300/30 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base",whileHover:{scale:1.03},whileTap:{scale:.97},children:[e.jsx(Oe,{className:"w-5 h-5"}),"Share Results"]}),e.jsx(y.button,{onClick:p,disabled:i,className:`flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:shadow-lg hover:shadow-purple-300/30 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base ${i?"opacity-70 cursor-not-allowed":""}`,whileHover:i?{}:{scale:1.03},whileTap:i?{}:{scale:.97},children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-5 h-5"}),"Download PDF"]})}),e.jsxs(y.button,{onClick:m,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl hover:shadow-lg hover:shadow-blue-300/30 transition-all duration-300 flex items-center justify-center gap-2 font-medium text-sm sm:text-base",whileHover:{scale:1.03},whileTap:{scale:.97},children:[e.jsx(we,{className:"w-5 h-5"}),"New Test"]})]})]})]}),r&&t&&e.jsx(ze,{result:t,onClose:()=>a(!1)})]})},ra=()=>{const{resultId:s}=ds(),o=_e(),[t,n]=R.useState(null),[r,a]=R.useState(!1),[i,l]=R.useState(!1),[c,d]=R.useState(!1),[m,p]=R.useState("overview");R.useEffect(()=>{s?(()=>{try{const D=JSON.parse(localStorage.getItem("speedTestResults")||"[]").find(f=>f.id===s);D?n(D):d(!0)}catch(k){console.error("Error loading test result:",k),d(!0)}})():d(!0)},[s]);const h=()=>{o("/")},u=async()=>{l(!0);try{const{generatePDFReport:v}=await us(async()=>{const{generatePDFReport:k}=await import("./ReportGenerator-lY0zm9Sv.js");return{generatePDFReport:k}},__vite__mapDeps([0,1,2,3]));await v(t),O.success("PDF report generated successfully!")}catch(v){console.error("Error generating PDF report:",v),O.error("Failed to generate PDF report. Please try again.")}finally{l(!1)}},x=()=>{a(!0)},g=({icon:v,value:k,unit:D,label:f,color:N,description:b})=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-100 flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${N}`}),e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-full ${N.replace("bg-","bg-").replace("-500","-100")}`,children:v}),b&&e.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>O.info(b,{duration:5e3}),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-baseline gap-1",children:[typeof k=="number"?k.toFixed(1):k,e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:D})]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-600 mt-1",children:f})]}),S=()=>{if(!t)return{grade:"N/A",color:"text-gray-500",bg:"bg-gray-100"};const v=Math.min(t.downloadSpeed/100,1)*40,k=Math.min(t.uploadSpeed/50,1)*30,D=Math.max(0,(100-t.ping)/100)*30,f=v+k+D;return f>=90?{grade:"A+",color:"text-green-600",bg:"bg-green-100"}:f>=80?{grade:"A",color:"text-green-600",bg:"bg-green-100"}:f>=70?{grade:"B",color:"text-blue-600",bg:"bg-blue-100"}:f>=60?{grade:"C",color:"text-yellow-600",bg:"bg-yellow-100"}:{grade:"D",color:"text-red-600",bg:"bg-red-100"}};if(c)return e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-6",children:e.jsx(ye,{className:"w-8 h-8 text-red-500"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Result Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The test result you're looking for doesn't exist or has expired."}),e.jsxs(y.button,{onClick:h,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 font-medium mx-auto",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.5)"},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-5 h-5"}),"Run New Test"]})]})});if(!t)return e.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const w=v=>new Date(v).toLocaleString(),M=S();return e.jsxs("div",{className:"container mx-auto px-4 py-6 sm:py-8 md:py-12",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(y.button,{onClick:()=>o("/"),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",whileHover:{x:-5},children:[e.jsx(ms,{className:"w-4 h-4"}),"Back to Speed Test"]}),e.jsx(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Your Speed Test Results"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Test completed on ",w(t.timestamp)]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(y.button,{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(we,{className:"w-4 h-4"}),"New Test"]}),e.jsxs(y.button,{onClick:x,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Oe,{className:"w-4 h-4"}),"Share"]}),e.jsxs(y.button,{onClick:u,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:i,children:[i?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-600"}):e.jsx(qe,{className:"w-4 h-4"}),"PDF Report"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 mb-6 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{className:`flex-1 py-4 px-4 text-center font-medium ${m==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>p("overview"),children:"Overview"}),e.jsx("button",{className:`flex-1 py-4 px-4 text-center font-medium ${m==="details"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>p("details"),children:"Detailed Metrics"}),e.jsx("button",{className:`flex-1 py-4 px-4 text-center font-medium ${m==="comparison"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>p("comparison"),children:"Comparison"})]}),e.jsx("div",{className:"p-6",children:e.jsxs(z,{mode:"wait",children:[m==="overview"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4 sm:mb-0",children:[e.jsx("div",{className:`w-16 h-16 ${M.bg} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:`text-2xl font-bold ${M.color}`,children:M.grade})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Performance Score"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overall connection quality rating"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Your connection is"," ",M.grade==="A+"||M.grade==="A"?"excellent":M.grade==="B"?"good":M.grade==="C"?"average":"below average"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx(g,{icon:e.jsx(re,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"}),value:t.downloadSpeed,unit:"Mbps",label:"Download Speed",color:"bg-green-500",description:"The rate at which data is transferred from the internet to your device. Higher is better."}),e.jsx(g,{icon:e.jsx(oe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-500"}),value:t.uploadSpeed,unit:"Mbps",label:"Upload Speed",color:"bg-orange-500",description:"The rate at which data is transferred from your device to the internet. Higher is better."}),e.jsx(g,{icon:e.jsx(J,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),value:t.ping,unit:"ms",label:"Ping (Latency)",color:"bg-blue-500",description:"The time it takes for data to travel from your device to the server and back. Lower is better."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ys,{className:"w-5 h-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-800",children:"Test Server Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Server:"}),e.jsx("span",{className:"font-medium text-gray-800",children:t.serverLocation})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Your Location:"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[t.userLocation.city,","," ",t.userLocation.country]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Test Duration:"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[t.testDuration," seconds"]})]})]})]})]},"overview"),m==="details"&&e.jsx(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{icon:e.jsx(J,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500"}),value:t.jitter,unit:"ms",label:"Jitter",color:"bg-purple-500",description:"Variation in ping over time. Lower jitter means a more stable connection."}),t.packetLoss&&e.jsx(g,{icon:e.jsx(ye,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"}),value:t.packetLoss.percentage,unit:"%",label:"Packet Loss",color:"bg-yellow-500",description:"Percentage of data packets that fail to reach their destination. Lower is better."}),t.bufferbloat&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-purple-500"}),"Bufferbloat Analysis"]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Rating"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.bufferbloat.rating==="A"?"bg-green-100 text-green-800":t.bufferbloat.rating==="B"?"bg-blue-100 text-blue-800":t.bufferbloat.rating==="C"?"bg-yellow-100 text-yellow-800":t.bufferbloat.rating==="D"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:t.bufferbloat.rating})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Latency Increase"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[t.bufferbloat.latencyIncrease," ms"]})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Bufferbloat occurs when your connection gets congested, causing delays. A lower rating indicates potential issues during heavy usage."})]}),t.stability&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5 text-blue-500"}),"Connection Stability"]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Stability Score"}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.stability.score>=90?"bg-green-100 text-green-800":t.stability.score>=70?"bg-blue-100 text-blue-800":t.stability.score>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.stability.score,"/100"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Speed Variance"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[t.stability.variance.toFixed(2)," Mbps"]})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Stability measures how consistent your connection speed remains over time. Lower variance means a more reliable connection."})]})]})},"details"),m==="comparison"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Speed Comparison"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Compare your results with common internet activities and average speeds in your region."}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden max-w-2xl mx-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500",children:"Activity"}),e.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500",children:"Required Speed"}),e.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500",children:"Your Speed"}),e.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"Web Browsing"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"1 Mbps"}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-800",children:[t.downloadSpeed.toFixed(1)," Mbps"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Excellent"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"HD Video Streaming"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"5 Mbps"}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-800",children:[t.downloadSpeed.toFixed(1)," Mbps"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:t.downloadSpeed>=5?"Excellent":"Insufficient"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"4K Video Streaming"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"25 Mbps"}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-800",children:[t.downloadSpeed.toFixed(1)," Mbps"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.downloadSpeed>=25?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.downloadSpeed>=25?"Good":t.downloadSpeed>=15?"Marginal":"Insufficient"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"Online Gaming"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"Ping < 50ms"}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-800",children:[t.ping.toFixed(0)," ms"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.ping<50?"bg-green-100 text-green-800":t.ping<100?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.ping<50?"Excellent":t.ping<100?"Good":"Poor"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"Video Conferencing"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"3 Mbps up/down"}),e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-800",children:[Math.min(t.uploadSpeed,t.downloadSpeed).toFixed(1)," ","Mbps"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Math.min(t.uploadSpeed,t.downloadSpeed)>=3?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Math.min(t.uploadSpeed,t.downloadSpeed)>=3?"Good":"Marginal"})})]})]})]})})]},"comparison")]})})]})]}),e.jsx(z,{children:r&&t&&e.jsx(ze,{result:t,onClose:()=>a(!1)})})]})},aa=()=>e.jsx(Is,{children:e.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[e.jsx(sr,{}),e.jsx("main",{className:"flex-grow",children:e.jsxs(Ds,{children:[e.jsx(ue,{path:"/",element:e.jsx(Qr,{})}),e.jsx(ue,{path:"/results/:resultId",element:e.jsx(ra,{})}),e.jsx(ue,{path:"/privacy",element:e.jsx(ea,{})}),e.jsx(ue,{path:"/contact",element:e.jsx(ta,{})}),e.jsx(ue,{path:"/legacy",element:e.jsx(Xr,{})}),e.jsx(ue,{path:"/legacy/results/:resultId",element:e.jsx(sa,{})})]})}),e.jsx(rr,{}),e.jsx(Fs,{position:"bottom-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",borderRadius:"8px",padding:"12px 16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})});qs.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(aa,{})}));
